
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Bowling ÁöÑÁ¨îËÆ∞Êú¨">
      
      
        <meta name="author" content="Bowling">
      
      
        <link rel="canonical" href="https://note.bowling233.top/%E7%B3%BB%E7%BB%9F%E5%92%8C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/Linux/%E5%86%85%E6%A0%B8%E4%B8%8E%E9%A9%B1%E5%8A%A8/%F0%9F%93%96%20Linux%20Device%20Drivers%20%283rd%29/">
      
      
        <link rel="prev" href="../ebpf/">
      
      
        <link rel="next" href="../%F0%9F%93%96%20Linux%20Kernel%20Development%20%283rd%29/">
      
      
      <link rel="icon" href="../../../../assets/bowling.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>üìñ Linux Device Drivers (3rd) - Bowling's TechStack</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/font.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/flink.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/custom.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#linux-device-drivers-3rd" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Bowling&#39;s TechStack" class="md-header__button md-logo" aria-label="Bowling's TechStack" data-md-component="logo">
      
  <img src="../../../../assets/bowling.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bowling's TechStack
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              üìñ Linux Device Drivers (3rd)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/bowling233/TechStack" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    TechStack
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  È¶ñÈ°µ

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../links/" class="md-tabs__link">
        
  
  
    
  
  ÂèãÈìæ

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../slides/" class="md-tabs__link">
          
  
  
    
  
  Slides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E5%85%B6%E4%BB%96/software/" class="md-tabs__link">
          
  
  
    
  
  ÂÖ∂‰ªñ

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%91%E5%8E%9F%E7%94%9F/" class="md-tabs__link">
          
  
  
    
  
  Â∫îÁî®È¢ÜÂüü

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E7%A7%91%E7%A0%94/%E8%8D%89%E7%A8%BF/" class="md-tabs__link">
          
  
  
    
  
  ÁßëÁ†î

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E7%AE%97%E6%B3%95/%F0%9F%8F%AB%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/" class="md-tabs__link">
          
  
  
    
  
  ÁÆóÊ≥ï

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  
    
  
  Á≥ªÁªüÂíå‰ΩìÁ≥ªÁªìÊûÑ

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E7%BD%91%E7%BB%9C/%F0%9F%93%92%20%E4%BB%A3%E7%90%86%E4%B8%8E%E8%99%9A%E6%8B%9F%E4%B8%93%E7%94%A8%E7%BD%91/" class="md-tabs__link">
          
  
  
    
  
  ÁΩëÁªú

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E8%8D%89%E7%A8%BF/" class="md-tabs__link">
          
  
  
    
  
  ËçâÁ®ø

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/build/" class="md-tabs__link">
          
  
  
    
  
  ËØ≠Ë®ÄÂíåËΩØ‰ª∂ÂºÄÂèë

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/spack/" class="md-tabs__link">
          
  
  
    
  
  È´òÊÄßËÉΩ

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Bowling&#39;s TechStack" class="md-nav__button md-logo" aria-label="Bowling's TechStack" data-md-component="logo">
      
  <img src="../../../../assets/bowling.svg" alt="logo">

    </a>
    Bowling's TechStack
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bowling233/TechStack" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    TechStack
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    È¶ñÈ°µ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../links/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÂèãÈìæ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../slides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Slides
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Slides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÂÖ∂‰ªñ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ÂÖ∂‰ªñ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/software/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ËΩØ‰ª∂‰ΩøÁî®ÁªèÈ™åÂíåÊäÄÂ∑ß
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E6%94%B6%E8%97%8F%E5%A4%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Êî∂ËóèÂ§π
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%87%AA%E5%8A%A8%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ëá™Âä®Âåñ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%F0%9F%93%92%20%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí Âø´Êç∑ÈîÆ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%F0%9F%93%92%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E7%BB%8F%E9%AA%8C%E5%92%8C%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí Êìç‰ΩúÁ≥ªÁªü‰ΩøÁî®ÁªèÈ™åÂíåÊäÄÂ∑ß
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%F0%9F%93%96%20Vim%20%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ Vim ÂÆûÁî®ÊäÄÂ∑ß
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%F0%9F%93%96%20%E4%BA%BA%E6%9C%88%E7%A5%9E%E8%AF%9D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ‰∫∫ÊúàÁ•ûËØù
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%F0%9F%94%97%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B1%BB%E7%A7%91%E6%99%AE%E8%A7%86%E9%A2%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üîó ËÆ°ÁÆóÊú∫Á±ªÁßëÊôÆËßÜÈ¢ë
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÂÜô‰Ωú
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            ÂÜô‰Ωú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E5%86%99%E4%BD%9C/mkslides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MkSlides
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_10" >
        
          
          <label class="md-nav__link" for="__nav_4_10" id="__nav_4_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ê±ÇËÅå
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_10">
            <span class="md-nav__icon md-icon"></span>
            Ê±ÇËÅå
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E6%B1%82%E8%81%8C/code-draft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊâãÊíï‰ª£Á†Å
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E6%B1%82%E8%81%8C/code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊâãÊíï‰ª£Á†Å
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E6%B1%82%E8%81%8C/interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Èù¢Áªè
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E6%B1%82%E8%81%8C/trade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ë°å‰∏ö
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_11" >
        
          
          <label class="md-nav__link" for="__nav_4_11" id="__nav_4_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÁîüÊ¥ª
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_11">
            <span class="md-nav__icon md-icon"></span>
            ÁîüÊ¥ª
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%E4%B8%AA%E4%BA%BA%E5%8F%91%E5%B1%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‰∏™‰∫∫ÂèëÂ±ï
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%E6%81%8B%E7%88%B1%E3%80%81%E5%A9%9A%E5%A7%BB%E4%B8%8E%E5%AE%B6%E5%BA%AD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊÅãÁà±„ÄÅÂ©öÂßª‰∏éÂÆ∂Â∫≠
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%E6%9D%82%E4%BA%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊùÇ‰∫ã
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%E7%A4%BE%E4%BC%9A/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Á§æ‰ºö
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%F0%9F%93%96%20%E4%BA%B2%E5%AF%86%E5%85%B3%E7%B3%BB%EF%BC%88%E7%AC%AC%208%20%E7%89%88%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ‰∫≤ÂØÜÂÖ≥Á≥ªÔºàÁ¨¨ 8 ÁâàÔºâ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%F0%9F%93%96%20%E4%BA%B2%E5%AF%86%E5%85%B3%E7%B3%BB%EF%BC%9A%E9%80%9A%E5%BE%80%E7%81%B5%E9%AD%82%E7%9A%84%E6%A1%A5%E6%A2%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ‰∫≤ÂØÜÂÖ≥Á≥ªÔºöÈÄöÂæÄÁÅµÈ≠ÇÁöÑÊ°•Ê¢Å
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%F0%9F%93%96%20%E5%88%BB%E6%84%8F%E7%BB%83%E4%B9%A0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ÂàªÊÑèÁªÉ‰π†
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E7%94%9F%E6%B4%BB/%F0%9F%93%96%20%E5%8E%9F%E7%94%9F%E5%AE%B6%E5%BA%AD%C2%B7%E5%A9%9A%E6%81%8B%E7%89%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ÂéüÁîüÂÆ∂Â∫≠¬∑Â©öÊÅãÁâà
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_12" >
        
          
          <label class="md-nav__link" for="__nav_4_12" id="__nav_4_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ËØæÁ®ãÁ¨îËÆ∞
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12">
            <span class="md-nav__icon md-icon"></span>
            ËØæÁ®ãÁ¨îËÆ∞
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%F0%9F%8F%AB%20%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89%E5%8E%9F%E7%90%86%EF%BC%88H%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üè´ È©¨ÂÖãÊÄù‰∏ª‰πâÂéüÁêÜÔºàHÔºâ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Â∫îÁî®È¢ÜÂüü
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Â∫îÁî®È¢ÜÂüü
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%91%E5%8E%9F%E7%94%9F/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ‰∫ëÂéüÁîü
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            ‰∫ëÂéüÁîü
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%91%E5%8E%9F%E7%94%9F/k8s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K8S
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ‰∫∫Â∑•Êô∫ËÉΩ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            ‰∫∫Â∑•Êô∫ËÉΩ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/d2l/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dive into Deep Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/llm_infra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Infra
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/pytorch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyTorch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ‰∫∫Â∑•Êô∫ËÉΩ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%F0%9F%93%96%20Dive%20into%20Deep%20Learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ Dive into Deep Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%F0%9F%93%96%20PyTorch%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ PyTorch Ê∑±Â∫¶Â≠¶‰π†ÂÆûÊàò
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%F0%9F%93%96%20%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ Ê∑±Â∫¶Â≠¶‰π†
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Êï∞ÊçÆÂ∫ì
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Êï∞ÊçÆÂ∫ì
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E6%95%B0%E6%8D%AE%E5%BA%93/%F0%9F%93%92%20ClickHouse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ClickHouse
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E6%95%B0%E6%8D%AE%E5%BA%93/%F0%9F%93%92%20ElasticSearch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ElasticSearch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E6%95%B0%E6%8D%AE%E5%BA%93/%F0%9F%93%92%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí Êï∞ÊçÆÂ∫ìÁºñÁ®ã
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E6%95%B0%E6%8D%AE%E5%BA%93/%F0%9F%93%92%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%90%E7%BB%B4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí Êï∞ÊçÆÂ∫ìËøêÁª¥
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F/%E6%95%B0%E6%8D%AE%E5%BA%93/%F0%9F%93%96%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÊ¶ÇÂøµ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÁßëÁ†î
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ÁßëÁ†î
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%A7%91%E7%A0%94/%E8%8D%89%E7%A8%BF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ËçâÁ®ø
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%A7%91%E7%A0%94/%F0%9F%93%92%20%E7%A7%91%E7%A0%94%E5%86%99%E4%BD%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ÁßëÁ†îÂÜô‰Ωú
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÁÆóÊ≥ï
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            ÁÆóÊ≥ï
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%AE%97%E6%B3%95/%F0%9F%8F%AB%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üè´ Êï∞ÊçÆÁªìÊûÑÂü∫Á°Ä
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Á≥ªÁªüÂíå‰ΩìÁ≥ªÁªìÊûÑ
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Á≥ªÁªüÂíå‰ΩìÁ≥ªÁªìÊûÑ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ISA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ISA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../nvidia-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NVIDIA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Êï∞Â≠óÁîµË∑Ø
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%F0%9F%93%96%20%E6%80%BB%E7%BA%BF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ÊÄªÁ∫ø
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%F0%9F%93%96%20%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ Ê∑±ÂÖ•ÁêÜËß£ËÆ°ÁÆóÊú∫Á≥ªÁªü
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_7" id="__nav_8_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pkg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÂèëË°åÁâà‰∏éÂåÖÁÆ°ÁêÜ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÂêØÂä®ËøáÁ®ã
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ÂÜÖÊ†∏‰∏éÈ©±Âä®
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_7_4" id="__nav_8_7_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_7_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_7_4">
            <span class="md-nav__icon md-icon"></span>
            ÂÜÖÊ†∏‰∏éÈ©±Âä®
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ebpf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    eBPF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    üìñ Linux Device Drivers (3rd)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    üìñ Linux Device Drivers (3rd)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∏ÄÁ´†ÔºöËÆæÂ§áÈ©±Âä®‰ªãÁªç
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∫åÁ´†ÔºöÊûÑÂª∫ÂíåËøêË°åÊ®°Âùó
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∫åÁ´†ÔºöÊûÑÂª∫ÂíåËøêË°åÊ®°Âùó">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Ê†∑‰æãÊ®°Âùó
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÊ†∏Ê®°Âùó‰∏éÂ∫îÁî®ÁöÑÂØπÊØî
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      ÁºñËØëÂíåÂä†ËΩΩ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÊ†∏Á¨¶Âè∑Ë°®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      ÂáÜÂ§áÂ∑•‰Ωú
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      ÂàùÂßãÂåñÂíåÂÖ≥Èó≠
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      Ê®°ÂùóÂèÇÊï∞
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      Âú®Áî®Êà∑Á©∫Èó¥ÂÜÖÊìç‰Ωú
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∏âÁ´†ÔºöÂ≠óÁ¨¶ËÆæÂ§á
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∏âÁ´†ÔºöÂ≠óÁ¨¶ËÆæÂ§á">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scull" class="md-nav__link">
    <span class="md-ellipsis">
      scull ÁöÑËÆæËÆ°
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏ªË¶ÅÂíåÊ¨°Ë¶ÅËÆæÂ§áÂè∑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏Ä‰∫õÈáçË¶ÅÁöÑÊï∞ÊçÆÁªìÊûÑ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      Ê≥®ÂÜåÂ≠óÁ¨¶ËÆæÂ§á
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ÊâìÂºÄÂíåÈáäÊîæ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scull_1" class="md-nav__link">
    <span class="md-ellipsis">
      scull ÁöÑÂÜÖÂ≠ò‰ΩøÁî®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      ËØªÂíåÂÜô
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî®Êñ∞ËÆæÂ§á
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂõõÁ´†ÔºöË∞ÉËØïÊäÄÊúØ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂõõÁ´†ÔºöË∞ÉËØïÊäÄÊúØ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÊ†∏Ë∞ÉËØïÊîØÊåÅ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöËøáÊâìÂç∞Ë∞ÉËØï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöËøáÊü•ËØ¢Ë∞ÉËØï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöËøáËßÇÊµãË∞ÉËØï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      Ë∞ÉËØïÁ≥ªÁªüÈîôËØØ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      Ë∞ÉËØïÂô®ÂíåÁõ∏ÂÖ≥Â∑•ÂÖ∑
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∫îÁ´†ÔºöÂπ∂ÂèëÂíåÁ´û‰∫âÊù°‰ª∂
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∫îÁ´†ÔºöÂπ∂ÂèëÂíåÁ´û‰∫âÊù°‰ª∂">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      Âπ∂ÂèëÂèäÂÖ∂ÁÆ°ÁêÜ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semaphoremutex" class="md-nav__link">
    <span class="md-ellipsis">
      ÊóóËØ≠ÔºàSemaphoreÔºâÂíåÈîÅÔºàMutexÔºâ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      ÈîÅÁöÑÂ∏∏ËßÅÈîôËØØ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      ÈîÅÁöÑÊõø‰ª£ÂìÅ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂÖ≠Á´†ÔºöÈ´òÁ∫ßÂ≠óÁ¨¶È©±Âä®Êìç‰Ωú
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂÖ≠Á´†ÔºöÈ´òÁ∫ßÂ≠óÁ¨¶È©±Âä®Êìç‰Ωú">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ioctl" class="md-nav__link">
    <span class="md-ellipsis">
      ioctl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    <span class="md-ellipsis">
      ÈòªÂ°û I/O
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∏ÉÁ´†ÔºöÊó∂Èó¥„ÄÅÂª∂Ëøü‰∏éÂª∂ÂêéÂ∑•‰Ωú
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∏ÉÁ´†ÔºöÊó∂Èó¥„ÄÅÂª∂Ëøü‰∏éÂª∂ÂêéÂ∑•‰Ωú">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      ÊµãÈáèÊó∂Èó¥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      Âª∂ËøüÊâßË°å
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂÖ´Á´†ÔºöÂàÜÈÖçÂÜÖÂ≠ò
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂÖ´Á´†ÔºöÂàÜÈÖçÂÜÖÂ≠ò">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kmalloc" class="md-nav__link">
    <span class="md-ellipsis">
      kmalloc ÁöÑÁªÜËäÇ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lookaside" class="md-nav__link">
    <span class="md-ellipsis">
      Lookaside ÁºìÂ≠ò
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰πùÁ´†Ôºö‰∏éÁ°¨‰ª∂Ê≤üÈÄö
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰πùÁ´†Ôºö‰∏éÁ°¨‰ª∂Ê≤üÈÄö">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#io-io" class="md-nav__link">
    <span class="md-ellipsis">
      I/O Á´ØÂè£Âíå I/O ÂÜÖÂ≠ò
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_1" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî® I/O Á´ØÂè£
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_2" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏Ä‰∏™ I/O Á´ØÂè£‰æãÂ≠ê
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-io-memory" class="md-nav__link">
    <span class="md-ellipsis">
      Using I/O Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅÁ´†Ôºö‰∏≠Êñ≠Â§ÑÁêÜ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∏ÄÁ´†ÔºöÂÜÖÊ†∏‰∏≠ÁöÑÊï∞ÊçÆÁ±ªÂûã
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pci" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∫åÁ´†ÔºöPCI È©±Âä®
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∏âÁ´†ÔºöUSB È©±Âä®
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅÂõõÁ´†ÔºöLinux ËÆæÂ§áÊ®°Âûã
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂçÅÂõõÁ´†ÔºöLinux ËÆæÂ§áÊ®°Âûã">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kobject-kset" class="md-nav__link">
    <span class="md-ellipsis">
      Kobject Âíå Kset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sysfs" class="md-nav__link">
    <span class="md-ellipsis">
      sysfs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      ÁÉ≠ÊèíÊãî‰∫ã‰ª∂
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      ÊÄªÁ∫ø„ÄÅËÆæÂ§áÂíåÈ©±Âä®
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dma" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∫îÁ´†ÔºöÂÜÖÂ≠òÊò†Â∞Ñ‰∏é DMA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂçÅ‰∫îÁ´†ÔºöÂÜÖÂ≠òÊò†Â∞Ñ‰∏é DMA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux_1" class="md-nav__link">
    <span class="md-ellipsis">
      Linux ÂÜÖÂ≠òÁÆ°ÁêÜ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mmap" class="md-nav__link">
    <span class="md-ellipsis">
      mmap() ËÆæÂ§áÊìç‰Ωú
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_3" class="md-nav__link">
    <span class="md-ellipsis">
      ÊâßË°åÁõ¥Êé• I/O
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dma_1" class="md-nav__link">
    <span class="md-ellipsis">
      DMA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DMA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dma_2" class="md-nav__link">
    <span class="md-ellipsis">
      ÂàÜÈÖç DMA ÁºìÂÜ≤Âå∫
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dma_3" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöÁî® DMA Â±Ç
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∏ÉÁ´†ÔºöÁΩëÁªúÈ©±Âä®
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂçÅ‰∏ÉÁ´†ÔºöÁΩëÁªúÈ©±Âä®">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snull" class="md-nav__link">
    <span class="md-ellipsis">
      snull ÁöÑËÆæËÆ°
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      ËøûÊé•Âà∞ÂÜÖÊ†∏
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ËøûÊé•Âà∞ÂÜÖÊ†∏">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆæÂ§áÊ≥®ÂÜå
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆæÂ§áÂàùÂßãÂåñ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      Ê®°ÂùóÂç∏ËΩΩ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#net_device" class="md-nav__link">
    <span class="md-ellipsis">
      net_device ÁªìÊûÑËØ¶Ëß£
    </span>
  </a>
  
    <nav class="md-nav" aria-label="net_device ÁªìÊûÑËØ¶Ëß£">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆæÂ§áÊñπÊ≥ï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      ËæÖÂä©Â≠óÊÆµ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      ÊâìÂºÄ‰∏éÂÖ≥Èó≠
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      ÂåÖ‰º†Ëæì
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      Êõ¥ÊîπÈìæË∑ØÁä∂ÊÄÅ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Êõ¥ÊîπÈìæË∑ØÁä∂ÊÄÅ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rtnl" class="md-nav__link">
    <span class="md-ellipsis">
      Ë°•ÂÖÖÂÜÖÂÆπÔºöRTNL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%F0%9F%93%96%20Linux%20Kernel%20Development%20%283rd%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ Linux Kernel Development (3rd)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_7_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Êñá‰ª∂Á≥ªÁªü
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_7_5" id="__nav_8_7_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7_5">
            <span class="md-nav__icon md-icon"></span>
            Êñá‰ª∂Á≥ªÁªü
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/%F0%9F%93%92%20%E5%86%85%E6%A0%B8%E6%BA%90%E7%A0%81%EF%BC%9ANFS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ÂÜÖÊ†∏Ê∫êÁ†ÅÔºöNFS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_7_6" >
        
          
          <label class="md-nav__link" for="__nav_8_7_6" id="__nav_8_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ê∫êÁ†ÅÁ¨îËÆ∞
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7_6">
            <span class="md-nav__icon md-icon"></span>
            Ê∫êÁ†ÅÁ¨îËÆ∞
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/bonding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    drivers/net/bonding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/bpftrace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bpftrace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/systemd-networkd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    systemd-networkd
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_7_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../%E7%BD%91%E7%BB%9C/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ÁΩëÁªú
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7_7">
            <span class="md-nav__icon md-icon"></span>
            ÁΩëÁªú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%AE%B9%E5%99%A8%E5%92%8C%E8%99%9A%E6%8B%9F%E5%8C%96/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ÂÆπÂô®ÂíåËôöÊãüÂåñ
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_8" id="__nav_8_8_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_8">
            <span class="md-nav__icon md-icon"></span>
            ÂÆπÂô®ÂíåËôöÊãüÂåñ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%AE%B9%E5%99%A8%E5%92%8C%E8%99%9A%E6%8B%9F%E5%8C%96/apptainer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apptainer/Singularity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%AE%B9%E5%99%A8%E5%92%8C%E8%99%9A%E6%8B%9F%E5%8C%96/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÁΩëÁªú
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            ÁΩëÁªú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BD%91%E7%BB%9C/%F0%9F%93%92%20%E4%BB%A3%E7%90%86%E4%B8%8E%E8%99%9A%E6%8B%9F%E4%B8%93%E7%94%A8%E7%BD%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ‰ª£ÁêÜ‰∏éËôöÊãü‰∏ìÁî®ÁΩë
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BD%91%E7%BB%9C/%F0%9F%93%92%20%E7%89%A9%E7%90%86%E5%92%8C%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí Áâ©ÁêÜÂíåÊï∞ÊçÆÈìæË∑ØÂ±Ç
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BD%91%E7%BB%9C/%F0%9F%93%92%20%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ÁΩëÁªúÁ¨îËÆ∞
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BD%91%E7%BB%9C/%F0%9F%93%96%20Head%20First%20HTML/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ Head First HTML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BD%91%E7%BB%9C/%F0%9F%93%96%20%E5%9B%BE%E8%A7%A3%20HTTP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ÂõæËß£ HTTP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BD%91%E7%BB%9C/%F0%9F%93%96%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%EF%BC%9A%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ ËÆ°ÁÆóÊú∫ÁΩëÁªúÔºöËá™È°∂Âêë‰∏ãÊñπÊ≥ï
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../%E8%8D%89%E7%A8%BF/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ËçâÁ®ø
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            ËçâÁ®ø
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/ZFS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ZFS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/draft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Èõ∂Êï£Á¨îËÆ∞
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/lvm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logical Volume Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÂàÜÂ∏ÉÂºèÊñá‰ª∂Á≥ªÁªü
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/%F0%9F%93%92%20%E4%B8%B4%E6%97%B6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ‰∏¥Êó∂Á¨îËÆ∞
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10_7" >
        
          
          <label class="md-nav__link" for="__nav_10_7" id="__nav_10_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    HPC
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7">
            <span class="md-nav__icon md-icon"></span>
            HPC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/HPC/%F0%9F%93%92%20%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ÊÄßËÉΩÂàÜÊûê
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/HPC/%F0%9F%93%92%20%E8%AE%BF%E5%AD%98%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ËÆøÂ≠ò‰ºòÂåñ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10_7_3" >
        
          
          <label class="md-nav__link" for="__nav_10_7_3" id="__nav_10_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Â∑•ÂÖ∑
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7_3">
            <span class="md-nav__icon md-icon"></span>
            Â∑•ÂÖ∑
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/HPC/%E5%B7%A5%E5%85%B7/%E7%BC%96%E8%AF%91%E5%A5%97%E4%BB%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÁºñËØëÂ•ó‰ª∂
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../%E8%8D%89%E7%A8%BF/RFC/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    RFC
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_8" id="__nav_10_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_8">
            <span class="md-nav__icon md-icon"></span>
            RFC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/RFC/4506%20XDR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RFC 4506 - XDR: External Data Representation Standard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/RFC/5531%20RPC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RFC 5531 - RPC: Remote Procedure Call Protocol Specification Version 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/RFC/5661%20NFSv4.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RFC 5661 - Network File System (NFS) Version 4 Minor Version 1 Protocol
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%8D%89%E7%A8%BF/RFC/7530%20NFSv4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RFC 7530 - Network File System (NFS) Version 4 Protocol
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ËØ≠Ë®ÄÂíåËΩØ‰ª∂ÂºÄÂèë
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            ËØ≠Ë®ÄÂíåËΩØ‰ª∂ÂºÄÂèë
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11_1" >
        
          
          <label class="md-nav__link" for="__nav_11_1" id="__nav_11_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Â∑•ÂÖ∑
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_1">
            <span class="md-nav__icon md-icon"></span>
            Â∑•ÂÖ∑
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊûÑÂª∫
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ë∞ÉËØï
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‰ª£Á†ÅÁÆ°ÁêÜ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊµãËØï
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/%F0%9F%93%92%20%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ÂºÄÂèëÂ∑•ÂÖ∑
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11_2" >
        
          
          <label class="md-nav__link" for="__nav_11_2" id="__nav_11_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÁºñËØë
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_2">
            <span class="md-nav__icon md-icon"></span>
            ÁºñËØë
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%BC%96%E8%AF%91/compiler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÁºñËØëÂéüÁêÜ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%BC%96%E8%AF%91/gnu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GNU Compiler Collection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%BC%96%E8%AF%91/llvm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLVM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11_3" >
        
          
          <label class="md-nav__link" for="__nav_11_3" id="__nav_11_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ËØ≠Ë®Ä
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_3">
            <span class="md-nav__icon md-icon"></span>
            ËØ≠Ë®Ä
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%AF%AD%E8%A8%80/C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%AF%AD%E8%A8%80/Python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%AF%AD%E8%A8%80/flutter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flutter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%AF%AD%E8%A8%80/go/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Go
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%AF%AD%E8%A8%80/%F0%9F%93%92%20C%20%E5%92%8C%20C%2B%2B%20%E9%AB%98%E7%BA%A7%E8%AF%9D%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí C Âíå C++ È´òÁ∫ßËØùÈ¢ò
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%AF%AD%E8%A8%80/%F0%9F%93%92%20%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìí ‰ª£Á†ÅÈ£éÊ†º
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E8%AF%AD%E8%A8%80%E5%92%8C%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%AF%AD%E8%A8%80/%F0%9F%93%96%20C%2B%2B%20Primer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìñ C++ Primer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    È´òÊÄßËÉΩ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            È´òÊÄßËÉΩ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/spack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12_2" >
        
          
          <label class="md-nav__link" for="__nav_12_2" id="__nav_12_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Âπ∂Ë°åÁ®ãÂ∫èËÆæËÆ°
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_2">
            <span class="md-nav__icon md-icon"></span>
            Âπ∂Ë°åÁ®ãÂ∫èËÆæËÆ°
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E5%B9%B6%E8%A1%8C%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/C%2B%2B%20%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Âπ∂ÂèëÁºñÁ®ã
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12_3" >
        
          
          <label class="md-nav__link" for="__nav_12_3" id="__nav_12_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÊÄßËÉΩÂàÜÊûê‰∏éË∞É‰ºò
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_3">
            <span class="md-nav__icon md-icon"></span>
            ÊÄßËÉΩÂàÜÊûê‰∏éË∞É‰ºò
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E4%B8%8E%E8%B0%83%E4%BC%98/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊÄßËÉΩÂàÜÊûêÁÆÄ‰ªã
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E4%B8%8E%E8%B0%83%E4%BC%98/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    ÁΩëÁªú
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_4" id="__nav_12_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_4">
            <span class="md-nav__icon md-icon"></span>
            ÁΩëÁªú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/algorithm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÈÄö‰ø°ÁÆóÊ≥ï
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/interconnection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‰∫íËÅîÁΩëÁªú
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/mpi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12_4_5" >
        
          
          <label class="md-nav__link" for="__nav_12_4_5" id="__nav_12_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ê∫êÁ†ÅÈòÖËØª
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_12_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_4_5">
            <span class="md-nav__icon md-icon"></span>
            Ê∫êÁ†ÅÈòÖËØª
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/libfabric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    libfabric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/rdma-core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rdma-core ‰∏é linux/drivers/infiniband
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/ucx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UCX
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12_4_6" >
        
          
          <label class="md-nav__link" for="__nav_12_4_6" id="__nav_12_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ÁºñÁ®ã
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_12_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_4_6">
            <span class="md-nav__icon md-icon"></span>
            ÁºñÁ®ã
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/%E7%BC%96%E7%A8%8B/dpdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DPDK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/%E7%BC%96%E7%A8%8B/ibverbs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IB Verbs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/%E7%BC%96%E7%A8%8B/mlx5dv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mlx5dv ‰∏é DevX
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E6%80%A7%E8%83%BD/%E7%BD%91%E7%BB%9C/%E7%BC%96%E7%A8%8B/rdmacm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RDMA CM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∏ÄÁ´†ÔºöËÆæÂ§áÈ©±Âä®‰ªãÁªç
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∫åÁ´†ÔºöÊûÑÂª∫ÂíåËøêË°åÊ®°Âùó
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∫åÁ´†ÔºöÊûÑÂª∫ÂíåËøêË°åÊ®°Âùó">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Ê†∑‰æãÊ®°Âùó
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÊ†∏Ê®°Âùó‰∏éÂ∫îÁî®ÁöÑÂØπÊØî
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      ÁºñËØëÂíåÂä†ËΩΩ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÊ†∏Á¨¶Âè∑Ë°®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      ÂáÜÂ§áÂ∑•‰Ωú
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      ÂàùÂßãÂåñÂíåÂÖ≥Èó≠
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      Ê®°ÂùóÂèÇÊï∞
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      Âú®Áî®Êà∑Á©∫Èó¥ÂÜÖÊìç‰Ωú
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∏âÁ´†ÔºöÂ≠óÁ¨¶ËÆæÂ§á
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∏âÁ´†ÔºöÂ≠óÁ¨¶ËÆæÂ§á">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scull" class="md-nav__link">
    <span class="md-ellipsis">
      scull ÁöÑËÆæËÆ°
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏ªË¶ÅÂíåÊ¨°Ë¶ÅËÆæÂ§áÂè∑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏Ä‰∫õÈáçË¶ÅÁöÑÊï∞ÊçÆÁªìÊûÑ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      Ê≥®ÂÜåÂ≠óÁ¨¶ËÆæÂ§á
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ÊâìÂºÄÂíåÈáäÊîæ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scull_1" class="md-nav__link">
    <span class="md-ellipsis">
      scull ÁöÑÂÜÖÂ≠ò‰ΩøÁî®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      ËØªÂíåÂÜô
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî®Êñ∞ËÆæÂ§á
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂõõÁ´†ÔºöË∞ÉËØïÊäÄÊúØ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂõõÁ´†ÔºöË∞ÉËØïÊäÄÊúØ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÊ†∏Ë∞ÉËØïÊîØÊåÅ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöËøáÊâìÂç∞Ë∞ÉËØï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöËøáÊü•ËØ¢Ë∞ÉËØï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöËøáËßÇÊµãË∞ÉËØï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      Ë∞ÉËØïÁ≥ªÁªüÈîôËØØ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      Ë∞ÉËØïÂô®ÂíåÁõ∏ÂÖ≥Â∑•ÂÖ∑
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∫îÁ´†ÔºöÂπ∂ÂèëÂíåÁ´û‰∫âÊù°‰ª∂
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∫îÁ´†ÔºöÂπ∂ÂèëÂíåÁ´û‰∫âÊù°‰ª∂">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      Âπ∂ÂèëÂèäÂÖ∂ÁÆ°ÁêÜ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semaphoremutex" class="md-nav__link">
    <span class="md-ellipsis">
      ÊóóËØ≠ÔºàSemaphoreÔºâÂíåÈîÅÔºàMutexÔºâ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      ÈîÅÁöÑÂ∏∏ËßÅÈîôËØØ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      ÈîÅÁöÑÊõø‰ª£ÂìÅ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂÖ≠Á´†ÔºöÈ´òÁ∫ßÂ≠óÁ¨¶È©±Âä®Êìç‰Ωú
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂÖ≠Á´†ÔºöÈ´òÁ∫ßÂ≠óÁ¨¶È©±Âä®Êìç‰Ωú">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ioctl" class="md-nav__link">
    <span class="md-ellipsis">
      ioctl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    <span class="md-ellipsis">
      ÈòªÂ°û I/O
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰∏ÉÁ´†ÔºöÊó∂Èó¥„ÄÅÂª∂Ëøü‰∏éÂª∂ÂêéÂ∑•‰Ωú
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰∏ÉÁ´†ÔºöÊó∂Èó¥„ÄÅÂª∂Ëøü‰∏éÂª∂ÂêéÂ∑•‰Ωú">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      ÊµãÈáèÊó∂Èó¥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      Âª∂ËøüÊâßË°å
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂÖ´Á´†ÔºöÂàÜÈÖçÂÜÖÂ≠ò
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂÖ´Á´†ÔºöÂàÜÈÖçÂÜÖÂ≠ò">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kmalloc" class="md-nav__link">
    <span class="md-ellipsis">
      kmalloc ÁöÑÁªÜËäÇ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lookaside" class="md-nav__link">
    <span class="md-ellipsis">
      Lookaside ÁºìÂ≠ò
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨‰πùÁ´†Ôºö‰∏éÁ°¨‰ª∂Ê≤üÈÄö
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨‰πùÁ´†Ôºö‰∏éÁ°¨‰ª∂Ê≤üÈÄö">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#io-io" class="md-nav__link">
    <span class="md-ellipsis">
      I/O Á´ØÂè£Âíå I/O ÂÜÖÂ≠ò
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_1" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî® I/O Á´ØÂè£
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_2" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏Ä‰∏™ I/O Á´ØÂè£‰æãÂ≠ê
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-io-memory" class="md-nav__link">
    <span class="md-ellipsis">
      Using I/O Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅÁ´†Ôºö‰∏≠Êñ≠Â§ÑÁêÜ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∏ÄÁ´†ÔºöÂÜÖÊ†∏‰∏≠ÁöÑÊï∞ÊçÆÁ±ªÂûã
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pci" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∫åÁ´†ÔºöPCI È©±Âä®
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∏âÁ´†ÔºöUSB È©±Âä®
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅÂõõÁ´†ÔºöLinux ËÆæÂ§áÊ®°Âûã
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂçÅÂõõÁ´†ÔºöLinux ËÆæÂ§áÊ®°Âûã">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kobject-kset" class="md-nav__link">
    <span class="md-ellipsis">
      Kobject Âíå Kset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sysfs" class="md-nav__link">
    <span class="md-ellipsis">
      sysfs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      ÁÉ≠ÊèíÊãî‰∫ã‰ª∂
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      ÊÄªÁ∫ø„ÄÅËÆæÂ§áÂíåÈ©±Âä®
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dma" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∫îÁ´†ÔºöÂÜÖÂ≠òÊò†Â∞Ñ‰∏é DMA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂçÅ‰∫îÁ´†ÔºöÂÜÖÂ≠òÊò†Â∞Ñ‰∏é DMA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux_1" class="md-nav__link">
    <span class="md-ellipsis">
      Linux ÂÜÖÂ≠òÁÆ°ÁêÜ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mmap" class="md-nav__link">
    <span class="md-ellipsis">
      mmap() ËÆæÂ§áÊìç‰Ωú
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io_3" class="md-nav__link">
    <span class="md-ellipsis">
      ÊâßË°åÁõ¥Êé• I/O
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dma_1" class="md-nav__link">
    <span class="md-ellipsis">
      DMA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DMA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dma_2" class="md-nav__link">
    <span class="md-ellipsis">
      ÂàÜÈÖç DMA ÁºìÂÜ≤Âå∫
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dma_3" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÄöÁî® DMA Â±Ç
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      Á¨¨ÂçÅ‰∏ÉÁ´†ÔºöÁΩëÁªúÈ©±Âä®
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Á¨¨ÂçÅ‰∏ÉÁ´†ÔºöÁΩëÁªúÈ©±Âä®">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snull" class="md-nav__link">
    <span class="md-ellipsis">
      snull ÁöÑËÆæËÆ°
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      ËøûÊé•Âà∞ÂÜÖÊ†∏
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ËøûÊé•Âà∞ÂÜÖÊ†∏">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆæÂ§áÊ≥®ÂÜå
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆæÂ§áÂàùÂßãÂåñ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      Ê®°ÂùóÂç∏ËΩΩ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#net_device" class="md-nav__link">
    <span class="md-ellipsis">
      net_device ÁªìÊûÑËØ¶Ëß£
    </span>
  </a>
  
    <nav class="md-nav" aria-label="net_device ÁªìÊûÑËØ¶Ëß£">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆæÂ§áÊñπÊ≥ï
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      ËæÖÂä©Â≠óÊÆµ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      ÊâìÂºÄ‰∏éÂÖ≥Èó≠
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      ÂåÖ‰º†Ëæì
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      Êõ¥ÊîπÈìæË∑ØÁä∂ÊÄÅ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Êõ¥ÊîπÈìæË∑ØÁä∂ÊÄÅ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rtnl" class="md-nav__link">
    <span class="md-ellipsis">
      Ë°•ÂÖÖÂÜÖÂÆπÔºöRTNL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <a href="../../../../.#tag:ËØª‰π¶Á¨îËÆ∞" class="md-tag">ËØª‰π¶Á¨îËÆ∞</a>
      
    
  </nav>


  
    <a href="https://github.com/bowling233/TechStack/blob/master/docs/Á≥ªÁªüÂíå‰ΩìÁ≥ªÁªìÊûÑ/Linux/ÂÜÖÊ†∏‰∏éÈ©±Âä®/üìñ Linux Device Drivers (3rd).md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="linux-device-drivers-3rd">üìñ Linux Device Drivers (3rd)<a class="headerlink" href="#linux-device-drivers-3rd" title="Permanent link">&para;</a></h1>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<ul>
<li><strong>Ëã±ÊñáÁâàÔºö</strong><a href="https://www.oreilly.com/library/view/linux-device-drivers/0596005903/">Linux Device Drivers, 3rd Edition</a></li>
<li><strong>‰∏≠ÊñáÁâàÔºö</strong><a href="https://book.douban.com/subject/1723151/">Linux ËÆæÂ§áÈ©±Âä®Á®ãÂ∫è</a></li>
</ul>
<p>Êà™Ê≠¢Âà∞ 2025 Âπ¥ÔºåËøôÊú¨‰π¶‰æùÁÑ∂ÊòØ Linux È©±Âä®ÂºÄÂèëÁöÑÊúÄ‰Ω≥ÂÖ•Èó®‰π¶Á±ç„ÄÇÂíå‰ºóÂ§öÁªèÂÖ∏ Linux ‰π¶Á±ç‰∏ÄÊ†∑ÔºåÂ§ßÂÆ∂ÂØπÂÆÉ‰ª¨ÁöÑËØÑ‰ª∑ÊòØÔºöÂÜÖÊ†∏Ê∫êÁ†ÅÂ§Ñ‰∫é‰∏çÊñ≠ÁöÑÊõ¥Êñ∞‰πã‰∏≠Ôºå‰π¶Á±çÈÉΩÂè™ËÉΩ‰Ωú‰∏∫Ëµ∑ÁÇπ„ÄÇÂ≠¶‰π†ÁöÑÊúÄ‰Ω≥ÊñπÂºèÊòØ‰ªé‰π¶Á±ç‰∫ÜËß£Áõ∏ÂÖ≥Ê¶ÇÂøµÔºåÁÑ∂ÂêéËØªÂÜÖÊ†∏Ê∫êÁ†ÅÂíåÁõ∏ÂÖ≥ÊñáÊ°£„ÄÇ</p>
<blockquote>
<p>The LDD book is a reasonable starting point, but as you say it's quite dated in some areas. Kernel APIs tend to change fairly quickly by book standards, which makes it a bit of a tall order.</p>
<p>Generally the best resources tend to be in-tree documentation (where it exists), which stands a higher chance of being up to date, and existing drivers that are doing something similar.</p>
</blockquote>
</div>
<p>ËøôÊú¨‰π¶Âü∫‰∫é Linux 2.6„ÄÇ</p>
<div class="admonition info">
<p class="admonition-title">‰∏Ä‰∫õÁõ∏ÂÖ≥ÁöÑËµÑÊ∫ê</p>
<ul>
<li>Ê∫êÁ†ÅÂèØ‰ª•‰ªé <a href="https://resources.oreilly.com/examples/9780596005900.git">examples / Linux Device Drivers 3rd Edition ¬∑ GitLab</a> ‰∏ãËΩΩ„ÄÇ‰ΩÜÂõ†ÂÖ∂Âü∫‰∫é Linux 2.6ÔºåÂü∫Êú¨‰∏äË∑ë‰∏çËµ∑Êù•„ÄÇ</li>
<li><a href="https://github.com/martinezjavier/ldd3">martinezjavier/ldd3: Linux Device Drivers 3 examples updated to work in recent kernels</a> ÊòØÁõÆÂâçÊåÅÁª≠Âú®Êõ¥Êñ∞ÁöÑÁâàÊú¨ÔºåÂπ∂‰∏îÊèê‰æõ‰∫ÜÊØîËæÉÂ•ΩÁöÑÊåáÂØºÔºåÊé®Ëçê‰ΩøÁî®„ÄÇÂÆÉÂü∫‰∫é 5.10„ÄÇ</li>
<li><a href="https://github.com/d0u9/Linux-Device-Driver">d0u9/Linux-Device-Driver: Advanced examples of Linux Device Drivers (LDD3) </a>ÔºåÂü∫‰∫é 5.10Ôºå‰ΩøÁî® QEMU ËøõË°åÂÆûÈ™å„ÄÇ</li>
</ul>
</div>
<p>Êú¨ÁØáÁ¨îËÆ∞‰ΩøÁî® <code>martinezjavier/ldd3</code> ËøõË°åÂÆûÈ™å„ÄÇ</p>
<h2 id="_1">Á¨¨‰∏ÄÁ´†ÔºöËÆæÂ§áÈ©±Âä®‰ªãÁªç<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>‰∏âÁ±ªËÆæÂ§áÔºö</p>
<ul>
<li>Â≠óÁ¨¶ËÆæÂ§áÔºöÊèê‰æõÂ≠óËäÇÊµÅ<ul>
<li>‰∏ÄËà¨ÂÆûÁé∞ <code>open</code>„ÄÅ<code>close</code>„ÄÅ<code>read</code>„ÄÅ<code>write</code></li>
<li>‰æãÂ≠êÔºö<code>/dev/console</code></li>
</ul>
</li>
<li>ÂùóËÆæÂ§á</li>
<li>ÁΩëÁªúÊé•Âè£</li>
</ul>
<p>ÊùÇÈ°πÔºö</p>
<ul>
<li>Ê¶ÇËø∞‰∫Ü Linux Á≥ªÁªüÁöÑÊï¥‰ΩìÊû∂ÊûÑ</li>
<li>ÊèêÂèä‰∫ÜÂÆâÂÖ®ÈóÆÈ¢òÔºö<ul>
<li>È©±Âä®ÁºñÂÜôËÄÖÂ∫îÂΩìÂ∞ÜÂ∞ΩÂèØËÉΩÂ∞ÜÂÆâÂÖ®Á≠ñÁï•Áßª‰∫§ÁªôÊõ¥È´òÂ±ÇÊ¨°ÔºåËÄå‰∏çÊòØÂú®È©±Âä®‰∏≠ÂÆûÁé∞„ÄÇÂ¶ÇÊûúÂØπËÆæÂ§áÁöÑÊìç‰ΩúÂèØËÉΩÂΩ±ÂìçÊï¥‰∏™Á≥ªÁªüÁöÑÂÆâÂÖ®ÔºåÂ∞±ÈúÄË¶ÅÂÅöÂ•ΩËÆøÈóÆÊéßÂà∂ÔºåÊØîÂ¶ÇÂè™ÊúâÁâπÊùÉÁî®Êà∑ÊâçËÉΩÂä†ËΩΩÁöÑÂÜÖÊ†∏Ê®°Âùó„ÄÇÂä†ËΩΩÊ®°ÂùóÊó∂ÔºåÁ≥ªÁªüË∞ÉÁî® <code>init_module</code> ‰ºöÊ£ÄÊü•ÂØπÂ∫îËøõÁ®ãÊòØÂê¶ÊúâÂä†ËΩΩÊ®°ÂùóÁöÑÊùÉÈôê„ÄÇ</li>
<li>Ê≠§Â§ñË¶ÅÈò≤ËåÉÁºìÂÜ≤Âå∫Ê∫¢Âá∫Á≠â C ËØ≠Ë®ÄÂÆπÊòì‰∫ßÁîüÁöÑÈóÆÈ¢ò„ÄÇ</li>
<li>Âú®È™åËØÅ‰πãÂâçÔºå‰∏çËÉΩ‰ø°‰ªª‰ªª‰Ωï‰ªéÁî®Êà∑Á©∫Èó¥‰º†Êù•ÁöÑ‰∏úË•øÔºåÂπ∂‰∏îË¶ÅËÆæËÆ°‰∏∫‰∏çËÆ∫Áî®Êà∑ÁªôÂà∞‰ªÄ‰πà‰ø°ÊÅØÈÉΩ‰∏çËá≥‰∫é‰ΩøÁ≥ªÁªüÂ¥©Ê∫É„ÄÇ‰ªéÂÜÖÊ†∏ÊãøÂà∞ÁöÑÂÜÖÂ≠ò‰∏ÄÂÆöË¶ÅÂàùÂßãÂåñÔºåÊ£ÄÊü•ÂÜÖÂ≠òÊ≥ÑÈú≤Á≠â„ÄÇ</li>
</ul>
</li>
<li>Linux ÂèØ‰ª•ÂÆåÂÖ®ÂÖ≥Èó≠Ê®°ÂùóÂäüËÉΩÔºåÊ≠§Êó∂È©±Âä®ÂøÖÈ°ªÁºñËØëËøõÂÜÖÊ†∏„ÄÇ</li>
</ul>
<h2 id="_2">Á¨¨‰∫åÁ´†ÔºöÊûÑÂª∫ÂíåËøêË°åÊ®°Âùó<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="_3">Ê†∑‰æãÊ®°Âùó<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>Áï•</p>
<h3 id="_4">ÂÜÖÊ†∏Ê®°Âùó‰∏éÂ∫îÁî®ÁöÑÂØπÊØî<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ul>
<li>ÂÜÖÊ†∏Ê®°ÂùóÂè™‰∏éÂÜÖÊ†∏ÈìæÊé•ÔºåÂõ†Ê≠§Âè™ËÉΩ‰ΩøÁî®ÂÜÖÊ†∏ÂØºÂá∫ÁöÑÂáΩÊï∞Ôºå‰∏çËÉΩ‰ΩøÁî®Ê†áÂáÜÂ∫ìÂáΩÊï∞„ÄÇ</li>
<li>ÂÜÖÊ†∏Ê®°ÂùóËøêË°åÂú®ÂÜÖÊ†∏Á©∫Èó¥ÔºåÂÜÖÂ≠òÊò†Â∞ÑÂíåÂú∞ÂùÄÁ©∫Èó¥‰πü‰∏éÊôÆÈÄöÂ∫îÁî®‰∏ç‰∏ÄÊ†∑„ÄÇ</li>
<li>ÂΩìÂ∫îÁî®ÊâßË°åÁ≥ªÁªüË∞ÉÁî®ÊàñË¢´Á°¨‰ª∂‰∏≠Êñ≠Êó∂ÔºåËøõÂÖ•ÂÜÖÊ†∏Á©∫Èó¥„ÄÇÁ≥ªÁªüË∞ÉÁî®ËøêË°åÂú®ËøõÁ®ãÁöÑ‰∏ä‰∏ãÊñá‰∏≠ÔºåÂèØ‰ª•ËÆøÈóÆËøõÁ®ãÁöÑÂú∞ÂùÄÁ©∫Èó¥„ÄÇÁ°¨‰ª∂‰∏≠Êñ≠ÊòØÂºÇÊ≠•ÁöÑÔºå‰∏éÁâπÂÆöËøõÁ®ãÊó†ÂÖ≥„ÄÇ</li>
<li>ÈúÄË¶ÅËÄÉËôëÂπ∂ÂèëÂú∫ÊôØ„ÄÇÂπ∂ÂèëÁöÑÊù•Ê∫êÊúâÔºöÂ§öËøõÁ®ã‰ΩøÁî®È©±Âä®„ÄÅÁ°¨‰ª∂Êìç‰ΩúËøáÁ®ã‰∏≠ÂèëÁîü‰∏≠Êñ≠„ÄÅÂÜÖÊ†∏ËÆ°Êó∂Âô®„ÄÅÈ©±Âä®Âú®Â§ö‰∏™ CPU ‰∏äÊâßË°å„ÄÅÊä¢Âç†Á≠â„ÄÇÂÜÖÊ†∏‰∏éÂÜÖÊ†∏Ê®°ÂùóÈÉΩÈúÄË¶ÅÂÅöÂà∞ reentrantÔºåÂç≥ÂèØ‰ª•ÂêåÊó∂ËøêË°åÂú®Â§ö‰∏™‰∏ä‰∏ãÊñá‰∏≠„ÄÇ</li>
<li><code>current</code> ÊåáÈíàÊåáÂêëÂΩìÂâçËøõÁ®ãÁöÑ <code>task_struct</code> ÁªìÊûÑ‰Ωì„ÄÇ</li>
<li>ÂÜÖÊ†∏ÁöÑÊ†àÈùûÂ∏∏Â∞èÔºåÂèØ‰ª•Â∞èÂà∞‰∏Ä‰∏™ 4K È°µ„ÄÇÊàë‰ª¨ÂÜôÁöÑÂáΩÊï∞‰∏éÂÜÖÊ†∏Á©∫Èó¥ÁöÑË∞ÉÁî®Èìæ‰∏ÄËµ∑‰ΩøÁî®Ëøô‰∏™Ê†à„ÄÇÂõ†Ê≠§Ôºå‰∏çÂ∫îÂΩì‰ΩøÁî®Â§ßÂûãÂ±ÄÈÉ®ÂèòÈáèÔºåÂ∫îÂΩìÂä®ÊÄÅÂàÜÈÖç„ÄÇ</li>
</ul>
<h3 id="_5">ÁºñËØëÂíåÂä†ËΩΩ<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>ÂÜÖÊ†∏Ê®°ÂùóÁöÑÁºñËØë‰ΩøÁî®ÂÜÖÊ†∏ÊûÑÂª∫Á≥ªÁªü <code>kbuild</code>„ÄÇÂú®ÂÜÖÊ†∏Ê®°ÂùóÁöÑÁõÆÂΩï‰∏ãÊîæÁΩÆËøôÊ†∑ÁöÑ MakefileÔºö</p>
<div class="language-makefile highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cp">ifneq ($(KERNELRELEASE),)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span>obj-m<span class="w"> </span>:<span class="o">=</span><span class="w"> </span>hello.o
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c"># Otherwise we were called directly from the command line; invoke the kernel build system.</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="cp">else</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span>KERNELDIR<span class="w"> </span>?<span class="o">=</span><span class="w"> </span>/lib/modules/<span class="k">$(</span>shell<span class="w"> </span>uname<span class="w"> </span>-r<span class="k">)</span>/build
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span>PWD<span class="w"> </span>:<span class="o">=</span><span class="w"> </span><span class="k">$(</span>shell<span class="w"> </span><span class="nb">pwd</span><span class="k">)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="nf">default</span><span class="o">:</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="k">$(</span>MAKE<span class="k">)</span><span class="w"> </span>-C<span class="w"> </span><span class="k">$(</span>KERNELDIR<span class="k">)</span><span class="w"> </span><span class="nv">M</span><span class="o">=</span><span class="k">$(</span>PWD<span class="k">)</span><span class="w"> </span>modules
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="cp">endif</span>
</span></code></pre></div>
<p>ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÁºñËØëÔºö</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nv">KERNELDIR</span><span class="o">=</span>/path/to/kernel<span class="w"> </span>make
</span></code></pre></div>
<p>ÂÖ∂‰∏≠ÁöÑÂéüÁêÜÊ∂âÂèä GNU Make Êâ©Â±ïËØ≠Ê≥ïÔºåÊöÇÁï•„ÄÇÂ§ßËá¥ËøáÁ®ãÊòØËÆ© <code>make</code> Ë∞ÉÁî®ÂÜÖÊ†∏ÁöÑ <code>Makefile</code>Ôºå‰ΩøÁî®ÂÜÖÊ†∏ÊûÑÂª∫Á≥ªÁªüÁöÑ <code>module</code> ÁõÆÊ†áÊù•ÊûÑÂª∫ÂÜÖÊ†∏Ê®°Âùó„ÄÇÁºñËØëÂÆåÊàêÁöÑÊ®°ÂùóÊñá‰ª∂ÊòØ <code>hello.ko</code>„ÄÇ</p>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p><code>martinezjavier/ldd3</code> ÂèØ‰ª•‰ΩøÁî®ÂΩìÂâçËøêË°åÁöÑ 6.1 ÂÜÖÊ†∏Ê∫êÁ†ÅÁºñËØëÔºåÂç¥‰∏çËÉΩ‰ΩøÁî®‰∏ãËΩΩÁöÑ 5.10 ÂÜÖÊ†∏Ê∫êÁ†ÅÁºñËØë„ÄÇÁúãÊä•ÈîôÊòØÁº∫‰∫ÜÂáΩÊï∞ÂÆö‰πâ„ÄÇ‰∏çÁü•ÈÅìÊòØ Debian Patch ËøòÊòØÂÜÖÊ†∏ API ÂèòÂä®ÂØºËá¥ÁöÑ„ÄÇ</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>jit.c:96:47: error: implicit declaration of function ‚Äòpde_data‚Äô [-Werror=implicit-function-declaration]
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>96 |         return single_open(file, jit_fn_show, pde_data(inode));
</span></code></pre></div>
</div>
<p>Âá†‰∏™ÂÆûÁî®Â∑•ÂÖ∑Ôºö</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>insmod modprobe rmmod lsmod
</span></code></pre></div>
<ul>
<li>Âä†ËΩΩÂÜÖÊ†∏Ê®°ÂùóÊó∂ÂèØ‰ª•ÊåáÂÆöÂèÇÊï∞„ÄÇ</li>
<li><code>insmod</code> ÈÄöËøá <code>sys_init_module</code> Á≥ªÁªüË∞ÉÁî®Âä†ËΩΩÊ®°ÂùóÔºåËøô‰ºö‰∏∫Ê®°ÂùóÂàÜÈÖç‰∏ÄÂùóÂÜÖÂ≠òÂå∫ÂüüÔºåÂ∞ÜÊ®°ÂùóÁöÑ‰ª£Á†ÅÂíåÊï∞ÊçÆÂ§çÂà∂Âà∞Ëøô‰∏™Âå∫ÂüüÔºåÁÑ∂ÂêéËøõË°åËß£ÊûêÊ®°ÂùóÁöÑÁ¨¶Âè∑Ë°®Á≠âÊìç‰Ωú„ÄÇ</li>
<li>‰ΩøÁî® <code>modprobe</code> Êó∂Ôºå‰ºöÊ£ÄÊü•Ê®°Âùó‰∏≠ÊòØÂê¶ÊúâÂÜÖÊ†∏Á¨¶Âè∑Ë°®‰∏≠ÁöÑÁ¨¶Âè∑ÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºå‰ºöËá™Âä®Âä†ËΩΩ‰æùËµñÁöÑÊ®°Âùó„ÄÇ</li>
<li>Â¶ÇÊûúÂÜÖÊ†∏Ê£ÄÊµãÂà∞Ê®°ÂùóÂØºÂá∫ÁöÑËÆæÂ§áÁ≠âÊ≠£Âú®‰ΩøÁî®Ôºå‰ºöÊãíÁªùÂç∏ËΩΩÊ®°Âùó„ÄÇ</li>
</ul>
<p>ÂÜÖÊ†∏ÁâàÊú¨‰æùËµñÔºö</p>
<ul>
<li>ÂÜÖÊ†∏Ê®°Âùó‰∏éÁâπÂÆöÂÜÖÊ†∏ÁâàÊú¨Á¥ßÂØÜÁõ∏ÂÖ≥„ÄÇÊûÑÂª∫ÂÜÖÊ†∏Ê®°ÂùóÊó∂‰∏é <code>vermagic.o</code> ÈìæÊé•ÔºåËØ•Êñá‰ª∂‰∏≠ÂåÖÂê´ÂÜÖÊ†∏ÁâàÊú¨„ÄÅÂ§ÑÁêÜÂô®Êû∂ÊûÑÁ≠â‰ø°ÊÅØÔºåÂä†ËΩΩÊó∂‰ºö‰ª•Ê≠§Ê£ÄÊü•ÂÖºÂÆπÊÄß„ÄÇ</li>
<li>ÁºñÂÜôË∑®ÂÜÖÊ†∏ÁâàÊú¨ÁöÑÊ®°ÂùóÊó∂Ôºå‰∏éÁâàÊú¨ÊúâÂÖ≥ÁöÑÊé•Âè£ÔºåÈÄöÂ∏∏Â∫îÂΩìÊîæÁΩÆÂú®‰∏Ä‰∏™Â§¥Êñá‰ª∂‰∏≠Áî®‰∏ÄÂ±ÇÂÆèÂåÖË£Ö„ÄÇ</li>
</ul>
<h3 id="_6">ÂÜÖÊ†∏Á¨¶Âè∑Ë°®<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ul>
<li>Âä†ËΩΩÊ®°ÂùóÂêéÔºå<code>EXPORT_SYMBOL()</code> ÁöÑÁ¨¶Âè∑ËøõÂÖ•ÂÜÖÊ†∏Á¨¶Âè∑Ë°®ÔºåÂÖ∂‰ªñÊ®°ÂùóÂèØ‰ª•‰ΩøÁî®„ÄÇ</li>
<li><code>EXPORT_SYMBOL_GPL()</code> Âè™ÂÖÅËÆ∏ GPL ËÆ∏ÂèØËØÅÁöÑÊ®°Âùó‰ΩøÁî®„ÄÇ</li>
</ul>
<h3 id="_7">ÂáÜÂ§áÂ∑•‰Ωú<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li>‰ΩøÁî® <code>MODULE_LICENSE()</code> ÂÆö‰πâÊ®°ÂùóÁöÑËÆ∏ÂèØËØÅ„ÄÇÂ¶ÇÊûúÊú™ÂÆö‰πâÔºåÂÜÖÊ†∏‰ºöËÆ§‰∏∫ÊòØ‰∏ìÊúâÁöÑ„ÄÇÂä†ËΩΩËøôÊ†∑ÁöÑÊ®°ÂùóÊó∂Ôºå‰ºöÊúâ <code>taint</code> Ë≠¶Âëä„ÄÇ</li>
</ul>
<h3 id="_8">ÂàùÂßãÂåñÂíåÂÖ≥Èó≠<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<div class="language-c highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__init</span><span class="w"> </span><span class="nf">init_func</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="p">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="p">}</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">module_init</span><span class="p">(</span><span class="n">init_func</span><span class="p">);</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">module_exit</span><span class="p">(</span><span class="n">exit_func</span><span class="p">);</span>
</span></code></pre></div>
<p>ÂàùÂßãÂåñÂáΩÊï∞ÂêëÁ≥ªÁªüÊ≥®ÂÜå‰∏Ä‰∫õËÆæÂ§á„ÄÇÊ≥®ÂÜåÂèØËÉΩÂ§±Ë¥•ÔºåÂõ†Ê≠§ÈúÄË¶ÅÊ£ÄÊü•ËøîÂõûÂÄº„ÄÇÂ§±Ë¥•Êó∂ÔºåÂèØËÉΩÁªßÁª≠ÊâßË°å‰ΩÜÊèê‰æõÊúâÈôêÁöÑÂäüËÉΩÔºå‰πüÂèØËÉΩÁõ¥Êé•ÈÄÄÂá∫ÔºåÊ≠§Êó∂Ë¶ÅÊ≥®ÊÑèÊ∏ÖÁêÜÂ∑≤ÁªèÊ≥®ÂÜåÁöÑËµÑÊ∫êÔºåËøô‰∫õÁºñÁ®ãÁªèÂ∏∏‰ΩøÁî® <code>goto</code> ËØ≠Âè•„ÄÇ</p>
<p>ÂáΩÊï∞Â£∞Êòé‰∏≠ÁöÑ <code>__init</code> Âíå <code>__exit</code> ÂÖ∑ÊúâÁâπÂÆöÂäüËÉΩÂíå‰ΩúÁî®Ôºå‰ΩøÁî®Êó∂ÈúÄË¶ÅÊ≥®ÊÑè„ÄÇÊØîÂ¶Ç <code>__init</code> Âú®Ê®°ÂùóÂä†ËΩΩÂêé‰ºöË¢´‰∏¢ÂºÉÔºå<code>__exit</code> ‰ºöÊîæÂú®ÁâπÊÆäÁöÑÊÆµ‰∏≠ÔºåÂè™ËÉΩÂú®Ê®°ÂùóÂç∏ËΩΩÊó∂Ë∞ÉÁî®ËØ∑ÔºåÂÖ∂‰ªñÊÉÖÂÜµ‰∏ã‰∫ßÁîüÈîôËØØ„ÄÇ</p>
<p>ÈúÄË¶ÅËÄÉËôëÊ®°ÂùóÂä†ËΩΩÊó∂ÁöÑÁ´û‰∫âÊù°‰ª∂ÔºåÂèØËÉΩÂàùÂßãÂåñÂáΩÊï∞Â∞öÊú™ÊâßË°åÂÆåÊØïÔºåÂ∞±‰ºöÊúâÂØπÊ®°ÂùóÁöÑËÆøÈóÆ„ÄÇÂõ†Ê≠§Ê®°ÂùóÂÜÖÈÉ®ÁöÑÂàùÂßãÂåñÂ∫îÂΩìÂú®Ê≥®ÂÜåËÆæÂ§á‰πãÂâçÂÆåÊàê„ÄÇ</p>
<h3 id="_9">Ê®°ÂùóÂèÇÊï∞<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>Ê®°ÂùóÂèÇÊï∞ÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°å‰∏≠ÊåáÂÆöÔºåÂ¶ÇÔºö</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>insmod<span class="w"> </span>hello.ko<span class="w"> </span><span class="nv">howmany</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">whom</span><span class="o">=</span><span class="s2">&quot;Mom&quot;</span>
</span></code></pre></div>
<p>‰πüÂèØ‰ª•Âú® <code>/etc/modules.conf</code> ‰∏≠ÈÖçÁΩÆ„ÄÇ</p>
<p>Ê®°ÂùóÂèÇÊï∞‰∏çÊîØÊåÅÊµÆÁÇπÊï∞„ÄÇ</p>
<p>Âú®Ê®°Âùó‰∏≠Â£∞ÊòéÂèÇÊï∞Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">howmany</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">module_param</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">perm</span><span class="p">);</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">module_param_array</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">perm</span><span class="p">);</span>
</span></code></pre></div>
<p>ÊâÄÊúâÊ®°ÂùóÂèÇÊï∞ÈÉΩÂ∫îËØ•ÊúâÈªòËÆ§ÂÄº„ÄÇ<code>perm</code> ÊéßÂà∂ <code>sysfs</code> ‰∏≠ÂèÇÊï∞ÁöÑÊùÉÈôê„ÄÇ</p>
<h3 id="_10">Âú®Áî®Êà∑Á©∫Èó¥ÂÜÖÊìç‰Ωú<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p><code>libusb</code> Â∞±ÊòØ‰∏Ä‰∏™ÂÆûÁé∞Âú®Áî®Êà∑Á©∫Èó¥ÁöÑ USB È©±Âä®„ÄÇÂÆûÁé∞Âú®Áî®Êà∑Á©∫Èó¥Êúâ‰∏Ä‰∫õÂ•ΩÂ§ÑÔºåÊØîÂ¶ÇÂèØ‰ª•‰ΩøÁî®Ê†áÂáÜÂ∫ì„ÄÅË∞ÉËØïËøáÁ®ãÊõ¥ÁÆÄÂçïÁ≠â„ÄÇ‰ΩÜËøô‰πüÊúâÂæàÂ§öÈôêÂà∂ÔºåÊØîÂ¶ÇÁΩëÁªúÊé•Âè£„ÄÅÂùóËÆæÂ§áÈÉΩÊó†Ê≥ïÂú®Áî®Êà∑Á©∫Èó¥ÂÆûÁé∞ÔºåDMA ÂèóÈôêÔºåÈÄüÂ∫¶ËæÉÊÖ¢Á≠â„ÄÇ</p>
<h2 id="_11">Á¨¨‰∏âÁ´†ÔºöÂ≠óÁ¨¶ËÆæÂ§á<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p>Êú¨Á´†ËÆ≤Ëß£ Simple Character Utility for Loading Localities (scull) ËÆæÂ§áÁöÑÂÆûÁé∞„ÄÇÂÆÉÊìç‰Ωú‰∏ÄÂùóÂÜÖÂ≠òÔºåË°®Áé∞‰∏∫‰∏Ä‰∏™Â≠óÁ¨¶ËÆæÂ§á„ÄÇ</p>
<h3 id="scull">scull ÁöÑËÆæËÆ°<a class="headerlink" href="#scull" title="Permanent link">&para;</a></h3>
<p>ÂÆÉÂ∞ÜÊèê‰æõ‰∏ãÂàóËÆæÂ§áÔºö</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>scull0-3
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>scullpipe0-3
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>scullsingle
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>scullpriv
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>sculluid
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>scullwuid
</span></code></pre></div>
<h3 id="_12">‰∏ªË¶ÅÂíåÊ¨°Ë¶ÅËÆæÂ§áÂè∑<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>Âú® <code>/dev</code> ‰∏≠‰ΩøÁî® <code>ls -l</code> ‰ºöÂèëÁé∞ÂéüÂÖàÊòæÁ§∫Êñá‰ª∂Â§ßÂ∞èÁöÑÂú∞ÊñπË¢´ËÆæÂ§áÂè∑Âç†ÊçÆ„ÄÇ‰∏ÄËà¨Êù•ËØ¥Ôºå‰∏ªËÆæÂ§áÂè∑Ê†áËØÜÁÆ°ÁêÜËØ•ËÆæÂ§áÁöÑÈ©±Âä®ÔºàÁé∞Âú® Linux ÂÖÅËÆ∏Â§ö‰∏™È©±Âä®ÂÖ±‰∫´‰∏Ä‰∏™‰∏ªËÆæÂ§áÂè∑ÔºâÔºåÊ¨°ËÆæÂ§áÂè∑Ê†áËØÜËÆæÂ§áÁöÑÂÆû‰æã„ÄÇ</p>
<p>Â∏∏Áî®Âõ∫ÂÆöËÆæÂ§áÂè∑ËßÅÂÜÖÊ†∏ÊñáÊ°£ <code>devices.txt</code>„ÄÇÂèØ‰ª•Âú® <code>/proc/devices</code> ‰∏≠Êü•ÁúãÂΩìÂâçÁ≥ªÁªü‰∏≠Ê≥®ÂÜåÁöÑËÆæÂ§á„ÄÇ</p>
<p>ËÆæÂ§áÂè∑Â≠òÂÇ®Âú® <code>dev_t</code> Á±ªÂûã‰∏≠Ôºå‰ΩøÁî®ÂÆèÊìç‰ΩúÂÆÉÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">MAJOR</span><span class="p">(</span><span class="kt">dev_t</span><span class="w"> </span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">MINOR</span><span class="p">(</span><span class="kt">dev_t</span><span class="w"> </span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">MKDEV</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">major</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">minor</span><span class="p">);</span>
</span></code></pre></div>
<p>ËÆæÂ§áÂè∑Áõ∏ÂÖ≥ÂáΩÊï∞Ôºö</p>
<div class="language-c highlight"><span class="filename">linux/fs.h</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">//int register_chrdev_region(dev_t first, unsigned int count, const char *name);</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">alloc_chrdev_region</span><span class="p">(</span><span class="kt">dev_t</span><span class="w"> </span><span class="o">*</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">firstminor</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">unregister_chrdev_region</span><span class="p">(</span><span class="kt">dev_t</span><span class="w"> </span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span></code></pre></div>
<p>ÊãøÂà∞ËÆæÂ§áÂè∑ÂêéÔºåËøòÈúÄË¶ÅÂ∞ÜËÆæÂ§áÂè∑‰∏éÈ©±Âä®ÂÜÖÈÉ®ÂÆûÁé∞Á°¨‰ª∂Êìç‰ΩúÁöÑÂáΩÊï∞ÂÖ≥ËÅîËµ∑Êù•„ÄÇ</p>
<h3 id="_13">‰∏Ä‰∫õÈáçË¶ÅÁöÑÊï∞ÊçÆÁªìÊûÑ<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>file_operations</code></p>
<ul>
<li>ÂÆö‰πâ‰∫é <code>linux/fs.h</code>ÔºåÂåÖÂê´‰∫ÜËÆæÂ§áÈ©±Âä®ÁöÑÊìç‰ΩúÂáΩÊï∞ÊåáÈíà„ÄÇÊØè‰∏™ÊâìÂºÄÁöÑÊñá‰ª∂ <code>file</code> ÈÉΩÂê´Êúâ <code>f_op</code> ÊåáÂêëÊñá‰ª∂Êìç‰ΩúÁõ∏ÂÖ≥ÁöÑÁ≥ªÁªüË∞ÉÁî®ÔºåÂÆûÁé∞ <code>open</code>„ÄÅ<code>read</code> Á≠âÊìç‰Ωú„ÄÇ</li>
<li><code>struct module *owner</code> ÊåáÂêëÊåÅÊúâËøô‰∏™ÁªìÊûÑÁöÑÊ®°ÂùóÔºåÈÅøÂÖçÊ®°ÂùóÂú®‰ΩøÁî®Êó∂Ë¢´Âç∏ËΩΩ„ÄÇ</li>
</ul>
<div class="language-c highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">loff_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">llseek</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">loff_t</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">__user</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">,</span><span class="w"> </span><span class="n">loff_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">write</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">__user</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">,</span><span class="w"> </span><span class="n">loff_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">open</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">inode</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="p">)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ioctl</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">inode</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="p">)</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="p">...</span>
</span></code></pre></div>
</li>
<li>
<p><code>file</code></p>
<ul>
<li>ÂÆö‰πâ‰∫é <code>linux/fs.h</code>Ôºå‰∏éÊ†áÂáÜÂ∫ì‰∏≠ÁöÑ <code>FILE</code> ‰∏çÂêåÔºåË°®Á§∫ÊâìÂºÄÁöÑÊñá‰ª∂ÁöÑÊèèËø∞Á¨¶„ÄÇ<code>open</code> Êó∂ÂàõÂª∫Ôºå‰º†ÁªôÊØè‰∏™Áî®Âà∞ÁöÑÂáΩÊï∞ÔºåÊúÄÂêé <code>close</code> Êó∂ÈáäÊîæ„ÄÇ</li>
</ul>
<div class="language-c highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kt">mode_t</span><span class="w"> </span><span class="n">f_mode</span><span class="p">;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">loff_t</span><span class="w"> </span><span class="n">f_pos</span><span class="p">;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">struct</span><span class="w"> </span><span class="nc">file_operations</span><span class="w"> </span><span class="o">*</span><span class="n">f_op</span><span class="p">;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="p">...</span>
</span></code></pre></div>
</li>
<li>
<p><code>inode</code></p>
<ul>
<li>‰∏Ä‰∏™Êñá‰ª∂ÂèØ‰ª•ÊúâÂ§ö‰∏™ <code>file</code> ÊèèËø∞Á¨¶Ôºå‰ΩÜÈÉΩÊåáÂêëÂêå‰∏Ä‰∏™ <code>inode</code>„ÄÇ</li>
</ul>
<div class="language-c highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kt">dev_t</span><span class="w"> </span><span class="n">i_rdev</span><span class="p">;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">struct</span><span class="w"> </span><span class="nc">cdev</span><span class="w"> </span><span class="o">*</span><span class="n">i_cdev</span><span class="p">;</span>
</span></code></pre></div>
</li>
</ul>
<h3 id="_14">Ê≥®ÂÜåÂ≠óÁ¨¶ËÆæÂ§á<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>ÂÖàÂàùÂßãÂåñÔºåÂÜçÊ≥®ÂÜåÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">cdev</span><span class="w"> </span><span class="o">*</span><span class="n">my_cdev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cdev_alloc</span><span class="p">();</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">my_cdev</span><span class="o">-&gt;</span><span class="n">ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">my_fops</span><span class="p">;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">cdev_init</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">cdev</span><span class="w"> </span><span class="o">*</span><span class="n">cdev</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">file_operations</span><span class="w"> </span><span class="o">*</span><span class="n">fops</span><span class="p">);</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="n">my_cdev</span><span class="o">-&gt;</span><span class="n">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">THIS_MODULE</span><span class="p">;</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="kt">int</span><span class="w"> </span><span class="nf">cdev_add</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">cdev</span><span class="w"> </span><span class="o">*</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="kt">dev_t</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">cdev_del</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">cdev</span><span class="w"> </span><span class="o">*</span><span class="n">dev</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="_15">ÊâìÂºÄÂíåÈáäÊîæ<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p><code>open</code> ÁöÑÂ∑•‰ΩúÔºö</p>
<ul>
<li>Ê£ÄÊü•ËÆæÂ§áÁõ∏ÂÖ≥ÈîôËØØ„ÄÇ</li>
<li>Â¶ÇÊûúÁ¨¨‰∏ÄÊ¨°ÊâìÂºÄÔºåÂàùÂßãÂåñËÆæÂ§á„ÄÇ</li>
<li>ÂøÖË¶ÅÊó∂Êõ¥Êñ∞ <code>f_op</code>„ÄÇ</li>
<li>ÂàÜÈÖçÂπ∂Â°´ÂÖÖ <code>filp-&gt;private_data</code> ‰∏≠ÁöÑÁªìÊûÑ„ÄÇ</li>
</ul>
<p><code>release</code> ÁöÑÂ∑•‰ΩúÔºö</p>
<ul>
<li>ÈáäÊîæ <code>open</code> ÂàÜÈÖçÁöÑÂÜÖÂ≠ò„ÄÇ</li>
<li>ÂÜçÊúÄÂêé‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ÂÖ≥Èó≠Êó∂ÔºåÂÖ≥Èó≠ËÆæÂ§á„ÄÇ</li>
<li>‰∏çÊòØÊØè‰∏™ <code>close</code> Ë∞ÉÁî®ÈÉΩ‰ºöÂØºËá¥ <code>release</code> Ë∞ÉÁî®ÔºåÂÜÖÊ†∏ÂÅö‰∫ÜÂºïÁî®ËÆ°Êï∞ÔºåÂõ†Ê≠§ <code>dup</code> Âíå <code>fork</code> ËÉΩÂÆâÂÖ®‰ΩøÁî®Êñá‰ª∂„ÄÇ</li>
<li>‰ΩÜÊØèÊ¨° <code>close</code> Êó∂ÊÄª‰ºöË∞ÉÁî® <code>flush</code>„ÄÇ</li>
</ul>
<p>ÊùÇÈ°πÔºö</p>
<ul>
<li><code>container_of(pointer, container_type, container_field)</code> ÂÆèÔºåÂÆö‰πâ‰∫é <code>linux/kernel.h</code>ÔºåÁî®‰∫é‰ªéÁªìÊûÑ‰ΩìÁöÑÊàêÂëòÊåáÈíàËé∑ÂèñÁªìÊûÑ‰ΩìÊåáÈíà„ÄÇ</li>
</ul>
<h3 id="scull_1">scull ÁöÑÂÜÖÂ≠ò‰ΩøÁî®<a class="headerlink" href="#scull_1" title="Permanent link">&para;</a></h3>
<div class="language-c highlight"><span class="filename">linux/slab.h</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">kmalloc</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">gfp_t</span><span class="w"> </span><span class="n">flags</span><span class="p">);</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">kfree</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="_16">ËØªÂíåÂÜô<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<div class="language-c highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">__user</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">loff_t</span><span class="w"> </span><span class="o">*</span><span class="n">offp</span><span class="p">);</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">write</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">__user</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">loff_t</span><span class="w"> </span><span class="o">*</span><span class="n">offp</span><span class="p">);</span>
</span></code></pre></div>
<p>Ê≥®ÊÑèÁºìÂÜ≤Âå∫ÊòØÁî®Êà∑Á©∫Èó¥Âú∞ÂùÄÔºåÊó†Ê≥ïË¢´ÂÜÖÊ†∏Á®ãÂ∫èÁõ¥Êé•ËÆøÈóÆ„ÄÇÊúâÂá†‰∏™ÂéüÂõ†Ôºö</p>
<ul>
<li>Ê†πÊçÆ‰ΩìÁ≥ªÁªìÊûÑÁöÑ‰∏çÂêåÔºåÁî®Êà∑Á©∫Èó¥ÁöÑÂú∞ÂùÄÂèØËÉΩÂú®ÂÜÖÊ†∏Á©∫Èó¥‰∏≠Êó†Êïà„ÄÇ</li>
<li>Âç≥‰ΩøÊòØÂêå‰∏Ä‰∏™Âú∞ÂùÄÔºåÁî®Êà∑Á©∫Èó¥ÂÜÖÂ≠òÊòØÂàÜÈ°µÁöÑÔºåÂèØËÉΩ‰∏çÂú® RAM ‰∏≠Ôºå‰ºöËÆ©ÂÜÖÊ†∏‰∫ßÁîüÊÆµÈîôËØØ„ÄÇ</li>
<li>ÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇ</li>
</ul>
<div class="language-c highlight"><span class="filename">asm/uaccess.h</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">copy_to_user</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="n">__user</span><span class="w"> </span><span class="o">*</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">copy_from_user</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">__user</span><span class="w"> </span><span class="o">*</span><span class="n">from</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</span></code></pre></div>
<p>Êã∑Ë¥ùÊó∂ËøõÁ®ãÂèØËÉΩË¢´ sleepÔºàÁ≠âÂæÖÈ°µ‰ªéÁ£ÅÁõòÂä†ËΩΩÂà∞ÂÜÖÂ≠òÔºâÔºåÂõ†Ê≠§ÈúÄË¶ÅËÄÉËôëÂπ∂ÂèëÂíå reentrant„ÄÇ</p>
<p><a class="glightbox" href="../ldd3.assets/ldd_ch3_dev_read.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="ldd_ch3_dev_read" src="../ldd3.assets/ldd_ch3_dev_read.webp" /></a></p>
<p><code>read</code> ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÔºö</p>
<ul>
<li>‰∏éË¶ÅÊ±ÇÁöÑÂ≠óËäÇÊï∞Áõ∏ÂêåÔºåË°®Á§∫ÊàêÂäü„ÄÇ</li>
<li>Â∞è‰∫éË¶ÅÊ±ÇÁöÑÂ≠óËäÇÊï∞ÔºåÊúâÂ§öÁßçÂéüÂõ†„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÁî®Êà∑Á®ãÂ∫è‰ºöÂÜçÊ¨°Â∞ùËØïÔºåÁõ¥Âà∞‰º†ËæìÂÆåÊàê„ÄÇ</li>
<li>0ÔºåË°®Á§∫Âà∞ËææÊñá‰ª∂Â∞æ„ÄÇ</li>
<li>Ë¥üÊï∞ÔºåË°®Á§∫ÈîôËØØ„ÄÇ</li>
</ul>
<p>Ê≠§Â§ñËøòÊúâÂΩìÂâçÊ≤°ÊúâÊï∞ÊçÆÔºå‰ΩÜÈ©¨‰∏ä‰ºöÊúâÊï∞ÊçÆÁöÑÊÉÖÂÜµÔºåÂú®ÂêéÊñáËÆ®ËÆ∫ÈòªÂ°ûÊó∂ËØ¶ÁªÜËØ¥Êòé„ÄÇ</p>
<p><code>write</code> ÂáΩÊï∞ËøîÂõûÂÄºÂíå <code>read</code> ‰∏ÄËá¥„ÄÇ</p>
<p>ÂÆÉ‰ª¨ÊúâÂêëÈáèÁâàÊú¨Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">readv</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">iovec</span><span class="w"> </span><span class="o">*</span><span class="n">iov</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">loff_t</span><span class="w"> </span><span class="o">*</span><span class="n">pos</span><span class="p">);</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">writev</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">iovec</span><span class="w"> </span><span class="o">*</span><span class="n">iov</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">loff_t</span><span class="w"> </span><span class="o">*</span><span class="n">pos</span><span class="p">);</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="k">struct</span><span class="w"> </span><span class="nc">iovec</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">__user</span><span class="w"> </span><span class="o">*</span><span class="n">iov_base</span><span class="p">;</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span><span class="n">__kernel_size_t</span><span class="w"> </span><span class="n">iov_len</span><span class="p">;</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="p">};</span>
</span></code></pre></div>
<h3 id="_17">‰ΩøÁî®Êñ∞ËÆæÂ§á<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>ÂèØ‰ª•Áî®ÂÆÉÂêÉÊª°ÂÜÖÂ≠òÔºö</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>cp<span class="w"> </span>/dev/zero<span class="w"> </span>/dev/scull0
</span></code></pre></div>
<p>‰ΩøÁî® <code>strace</code> ÂèØ‰ª•Êü•ÁúãÈ©±Âä®‰∏≠ÁöÑÁ≥ªÁªüË∞ÉÁî®„ÄÇ</p>
<h2 id="_18">Á¨¨ÂõõÁ´†ÔºöË∞ÉËØïÊäÄÊúØ<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h2>
<h3 id="_19">ÂÜÖÊ†∏Ë∞ÉËØïÊîØÊåÅ<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>Ëá™Ë°åÁºñËØëÂÜÖÊ†∏ÔºåÂêØÁî®‰∏ÄËà¨ÂèëË°åÁâàËá™Â∏¶ÂÜÖÊ†∏Ê≤°ÊúâÂêØÁî®ÁöÑË∞ÉËØïÈÄâÈ°π„ÄÇ</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>CONFIG_DEBUG_KERNEL
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>CONFIG_DEBUG_SLAB
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>CONFIG_DEBUG_PAGEALLOC
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>CONFIG_DEBUG_SPINLOCK
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>CONFIG_DEBUG_SPINLOCK_SLEEP
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>...
</span></code></pre></div>
<h3 id="_20">ÈÄöËøáÊâìÂç∞Ë∞ÉËØï<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>Êú¨ËäÇÊèèËø∞‰∫ÜÂÜÖÊ†∏Êó•ÂøóÁ≥ªÁªüÔºåÂ¶Ç‰ΩïÊéßÂà∂ËæìÂá∫Á∫ßÂà´„ÄÅÊéßÂà∂Âè∞ËæìÂá∫Á≠â„ÄÇ</p>
<p>‰ªãÁªç‰∫ÜÈÄöËøáÂÆèÂåÖË£ÖÁöÑ‰æøÊç∑Ë∞ÉËØïÂáΩÊï∞Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="cp">#undef PDEBUG </span><span class="cm">/* undef it, just in case */</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="cp">#ifdef SCULL_DEBUG</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="cp"># ifdef __KERNEL__</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="cm">/* This one if debugging is on, and kernel space */</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="cp"># define PDEBUG(fmt, args...) printk( KERN_DEBUG &quot;scull: &quot; fmt, ## args)</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="cp"># else</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="cm">/* This one for user space */</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="cp"># define PDEBUG(fmt, args...) fprintf(stderr, fmt, ## args)</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="cp"># endif</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="cp">#else</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="cp"># define PDEBUG(fmt, args...) </span><span class="cm">/* not debugging: nothing */</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="cp">#endif</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="cp">#undef PDEBUGG</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="cp">#define PDEBUGG(fmt, args...) </span><span class="cm">/* nothing: it&#39;s a placeholder */</span>
</span></code></pre></div>
<div class="language-makefile highlight"><span class="filename">Makefile</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c"># Comment/uncomment the following line to disable/enable debugging</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="nv">DEBUG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>y
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c"># Add your debugging flag (or not) to CFLAGS</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="cp">ifeq ($(DEBUG),y)</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span><span class="nv">DEBFLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>-O<span class="w"> </span>-g<span class="w"> </span>-DSCULL_DEBUG<span class="w"> </span><span class="c1"># &quot;-O&quot; is needed to expand inlines</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="cp">else</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">  </span><span class="nv">DEBFLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>-O2
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="cp">endif</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="nv">CFLAGS</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="k">$(</span>DEBFLAGS<span class="k">)</span>
</span></code></pre></div>
<p>ÂØπ‰∫éÈ©±Âä®ËøòÊúâ‰∏Ä‰∫õÂáΩÊï∞Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">print_dev_t</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">dev_t</span><span class="w"> </span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">format_dev_t</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">dev_t</span><span class="w"> </span><span class="n">dev</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="_21">ÈÄöËøáÊü•ËØ¢Ë∞ÉËØï<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p><code>/proc</code> Êñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÊØè‰∏™Êñá‰ª∂ÈÉΩÂØπÂ∫î‰∏Ä‰∏™ÂÜÖÊ†∏ÂáΩÊï∞Ôºå‰∫ßÁîüËØ•Êñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ</p>
<div class="language-c highlight"><span class="filename">linux/proc_fs.h</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">read_proc</span><span class="p">)(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">page</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">off_t</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">eof</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">);</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="k">struct</span><span class="w"> </span><span class="nc">proc_dir_entry</span><span class="w"> </span><span class="o">*</span><span class="n">create_proc_read_entry</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="kt">mode_t</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">proc_dir_entry</span><span class="w"> </span><span class="o">*</span><span class="n">base</span><span class="p">,</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="n">read_proc_t</span><span class="w"> </span><span class="o">*</span><span class="n">read_proc</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">);</span>
</span></code></pre></div>
<p>Êú¨ËäÇËøò‰ªãÁªç‰∫Ü <code>seq_file</code> Êé•Âè£„ÄÇ</p>
<h3 id="_22">ÈÄöËøáËßÇÊµãË∞ÉËØï<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>Êú¨ËäÇ‰ªãÁªç‰ΩøÁî® <code>strace</code> ËßÇÂØü‰ªéÁî®Êà∑Á©∫Èó¥ÂèëÂá∫ÁöÑÁ≥ªÁªüË∞ÉÁî®„ÄÇ</p>
<h3 id="_23">Ë∞ÉËØïÁ≥ªÁªüÈîôËØØ<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>È©±Âä®ÂèëÁîüÈîôËØØÊó∂ÔºåÂèØËÉΩÂØºËá¥‰ΩøÁî®ËØ•È©±Âä®ÁöÑÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫É„ÄÇÊ≠§Êó∂Âä®ÊÄÅÂàÜÈÖçÂà∞ËØ•‰∏ä‰∏ãÊñáÁöÑÊï∞ÊçÆÂèØËÉΩ‰∏¢Â§±„ÄÇÁ®ãÂ∫èÂ¥©Ê∫ÉÊó∂ÔºåÂÜÖÊ†∏‰ºö‰ΩøÁî® <code>close</code> ÂÖ≥Èó≠ÊâìÂºÄÁöÑÊñá‰ª∂ÔºåÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•Êî∂Âõû <code>open</code> Êó∂ÂàÜÈÖçÁöÑËµÑÊ∫ê„ÄÇ</p>
<p>ÂèëÁîüÈîôËØØÊó∂Ôºåoops Ê∂àÊÅØÊâìÂç∞Â§ÑÁêÜÂô®ÂΩìÂâçÁä∂ÊÄÅÔºåÂ¶ÇÂØÑÂ≠òÂô®„ÄÅEIP Á≠â„ÄÇÊú¨ËäÇÁî®Ëß£ÂºïÁî® NULL ÊåáÈíàÂíåÁºìÂÜ≤Âå∫Ê∫¢Âá∫‰∏§‰∏™‰æãÂ≠êÊºîÁ§∫‰∫ÜÂ¶Ç‰ΩïÈòÖËØª oops Ê∂àÊÅØ„ÄÇ</p>
<p>Ëøò‰ªãÁªç‰∫ÜÂ∫îÂØπÊ≠ªÊú∫ÁöÑÊñπÊ≥ï„ÄÇ</p>
<h3 id="_24">Ë∞ÉËØïÂô®ÂíåÁõ∏ÂÖ≥Â∑•ÂÖ∑<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<p>‰ªãÁªç‰∫Ü‰ΩøÁî® GDB„ÄÅkdb ÂíåÂÖ∂‰ªñÂêÑÁ±ªÂ∑•ÂÖ∑Ë∞ÉËØïÂÜÖÊ†∏ÁöÑÊñπÊ≥ï„ÄÇÁî±‰∫éÊ≤°ÊúâËá™Ë°åÁºñËØëÂÜÖÊ†∏ÔºåÊïÖÁï•Âéª„ÄÇ</p>
<p>ÊúâË∂£ÁöÑÊòØÊú¨ËäÇÊèêÂèä‰∫ÜÂÜÖÊ†∏‰∏∫‰ªÄ‰πà‰∏çÊèê‰æõË∞ÉËØïÂô®Ôºö</p>
<blockquote>
<p>The answer, quite simply, is that Linus does not
believe in interactive debuggers. He fears that they lead to poor fixes, those which
patch up symptoms rather than addressing the real cause of problems. Thus, no
built-in debuggers.</p>
</blockquote>
<h2 id="_25">Á¨¨‰∫îÁ´†ÔºöÂπ∂ÂèëÂíåÁ´û‰∫âÊù°‰ª∂<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h2>
<h3 id="_26">Âπ∂ÂèëÂèäÂÖ∂ÁÆ°ÁêÜ<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<p>Á°¨‰ª∂ÂíåÂæàÂ§öËΩØ‰ª∂ËµÑÊ∫êÈÉΩÈúÄË¶ÅÂÖ±‰∫´Ôºå‰∏ÄËà¨‰ΩøÁî®ÈîÅÊú∫Âà∂Êù•ÊéßÂà∂Á∫øÁ®ãÂØπÂÖ±‰∫´ËµÑÊ∫êÁöÑËÆøÈóÆ„ÄÇ</p>
<h3 id="semaphoremutex">ÊóóËØ≠ÔºàSemaphoreÔºâÂíåÈîÅÔºàMutexÔºâ<a class="headerlink" href="#semaphoremutex" title="Permanent link">&para;</a></h3>
<p>ÊóóËØ≠Áî±‰∏Ä‰∏™Êï¥Êï∞ÂÄºÂíå P„ÄÅV Êìç‰ΩúÁªÑÊàê„ÄÇÂΩìËøõÁ®ãËøõÂÖ•ÂÖ≥ÈîÆÂå∫Êó∂‰ΩøÁî® P Êìç‰ΩúÂ∞ÜÂÄºÂáè‰∏ÄÔºåÁ¶ªÂºÄÊó∂‰ΩøÁî® V Êìç‰ΩúÂ∞ÜÂÄºÂä†‰∏Ä„ÄÇÂΩìÂÄº‰∏∫ 0 Êó∂ÔºåËøõÁ®ã‰ºöË¢´ÈòªÂ°û„ÄÇ</p>
<p>Â∞ÜÊóóËØ≠Êï¥Êï∞ÂÄºËÆæÁΩÆ‰∏∫ 1 Âç≥ÂèØÂÆûÁé∞‰∫íÊñ•ÈîÅÔºåÊúâÊó∂Áß∞‰∏∫ mutexÔºàÂç≥ mutual exclusionÔºâ„ÄÇ</p>
<p>Âú® Linux ‰∏≠ÔºåV ÂØπÂ∫î <code>up</code>ÔºåP ÂØπÂ∫î <code>down</code>„ÄÇÊ∫êÁ†ÅÁõÆÂâç‰Ωç‰∫é <a href="https://github.com/torvalds/linux/blob/master/include/linux/semaphore.h">linux/include/semaphore.h</a>„ÄÇ</p>
<p>Ê≠§Â§ñÔºåÂÜÖÊ†∏ËøòÊèê‰æõ</p>
<ul>
<li><code>rwsem</code> ËØªÂÜôÈîÅÔºåÂÖÅËÆ∏Â§ö‰∏™ËøõÁ®ãÂêåÊó∂ËØªÔºå‰ΩÜÂè™ÂÖÅËÆ∏‰∏Ä‰∏™ËøõÁ®ãÂÜô„ÄÇËØªÂÜôÈîÅÂèØËÉΩÈÄ†ÊàêÈ••È•ø„ÄÇ</li>
<li><code>completion</code> Á≠âÂæÖÊìç‰Ωú/Â≠êËøõÁ®ãÂÆåÊàê„ÄÇ</li>
<li><code>spinlock</code> ÂèØ‰ª•Áî®Âú®‰∏çÂèØ sleep ÁöÑ‰ªªÂä°ÔºàÂ¶Ç‰∏≠Êñ≠Â§ÑÁêÜÔºâ‰∏≠„ÄÇÈúÄË¶ÅËé∑ÂæóÈîÅÁöÑÁ®ãÂ∫è‰ºö‰∏çÊñ≠ËΩÆËÆ≠ÔºåÂõ†Ê≠§Áß∞‰∏∫Ëá™Êóã„ÄÇËøôÁßçÊÉÖÂÜµÂÆπÊòìÈÄ†ÊàêÊ≠ªÈîÅÔºöÊåÅÊúâÈîÅÁöÑÁ∫øÁ®ã‰ºëÁú†ÔºåËÄåÈúÄË¶ÅÈîÅÁöÑÁ∫øÁ®ãÂç†Áî® CPU„ÄÇÂõ†Ê≠§ÔºåÊåÅÊúâÈîÅÁöÑËøõÁ®ãÂ∫îÂΩìÊâßË°åÂéüÂ≠êÂåñÊìç‰ΩúÔºàÊúüÈó¥‰∏çÂèØ sleepÔºâ„ÄÇ</li>
<li><code>rwlock</code> ËØªÂÜôÁâàÁöÑËá™ÊóãÈîÅ„ÄÇ</li>
</ul>
<p>‰∏çÂêåÁ±ªÂûãÁöÑÈîÅÈíàÂØπ‰∏çÂêåÁöÑ‰ΩøÁî®Âú∫ÊôØËøõË°åÊÄßËÉΩ‰ºòÂåñ„ÄÇ</p>
<h3 id="_27">ÈîÅÁöÑÂ∏∏ËßÅÈîôËØØ<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<p>Áï•„ÄÇ</p>
<h3 id="_28">ÈîÅÁöÑÊõø‰ª£ÂìÅ<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<p>circular buffer„ÄÅatomic variable„ÄÅseqlock Á≠âÂèØ‰ª•ÂÆûÁé∞Êó†ÈîÅÊï∞ÊçÆÁªìÊûÑ„ÄÇËøô‰∫õÂú®È©±Âä®‰∏≠ÂæàÂ∏∏ËßÅÔºåÊØîÂ¶ÇÁΩëÁªúÈÄÇÈÖçÂô®Â∞±‰ΩøÁî® circular buffer„ÄÇ</p>
<p>Ê≠§Â§ñËøòÊúâ Read-Copy-Update ÁÆóÊ≥ïÔºåÁ±ª‰ºº‰∫éÂÜôÊó∂Â§çÂà∂„ÄÇ</p>
<h2 id="_29">Á¨¨ÂÖ≠Á´†ÔºöÈ´òÁ∫ßÂ≠óÁ¨¶È©±Âä®Êìç‰Ωú<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h2>
<h3 id="ioctl">ioctl<a class="headerlink" href="#ioctl" title="Permanent link">&para;</a></h3>
<p>Á¨¨‰∏âÁ´†‰ªãÁªç‰∫Ü <code>read()</code> Âíå <code>write()</code>„ÄÇÂ§ßÂ§öÊï∞È©±Âä®Èô§‰∫ÜËøô‰∏§‰∏™Êé•Âè£‰º†ËæìÊï∞ÊçÆÔºåËøòÈúÄË¶ÅÊâßË°åÂ§çÊùÇÁöÑÊéßÂà∂Êåá‰ª§„ÄÇËøôÈÄöËøá‰∏ãÈù¢ÁöÑÊé•Âè£ÂÆåÊàêÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">// Áî®Êà∑Á©∫Èó¥Á≥ªÁªüË∞ÉÁî®</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="n">usigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">cmd</span><span class="p">,</span><span class="w"> </span><span class="p">...);</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c1">// È©±Âä®Á®ãÂ∫èÊé•Âè£</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ioctl</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">inode</span><span class="w"> </span><span class="o">*</span><span class="n">inode</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">cmd</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">arg</span><span class="p">);</span>
</span></code></pre></div>
<ul>
<li>
<p><code>cmd</code> ÂëΩ‰ª§ÁºñÂè∑Âú®Êï¥‰∏™Á≥ªÁªü‰∏≠ÂîØ‰∏Ä„ÄÇÂõ†Ê≠§ÂÆÉË¢´ÂàíÂàÜ‰∏∫Á±ªÂûãÔºàÂØπÂ∫îËÆæÂ§áÈ©±Âä®Ôºâ„ÄÅÂ∫èÂàóÂè∑„ÄÅ‰º†ËæìÊñπÂêë„ÄÅÂèÇÊï∞Â§ßÂ∞èÔºåÂêÑÂ≠óÊÆµÂ§ßÂ∞èÂÆèÂÆö‰πâÔºö</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>_IOC_TYPEBITES _IOC_NRBITS _IOC_SIZEBITS
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>_IOC_NONE _IOC_READ _IOC_WRITE
</span></code></pre></div>
<p>‰ΩøÁî®‰∏ãÂàóÂÆèÂàõÂª∫ÁºñÂè∑Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">_IO</span><span class="p">(</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">nr</span><span class="p">)</span>
</span></code></pre></div>
<p>ÈÄâÊã©Á±ªÂûãÁöÑÂÄºÊó∂Â∫îÊ£ÄÊü• <code>include/asm/ioctl.h</code> Âíå <code>Documentation/ioctl-number.txt</code>ÔºåÂêéËÄÖËÆ∞ÂΩï‰∫ÜÂÜÖÊ†∏‰∏≠Á±ªÂûãÂÄºÁöÑÂàÜÈÖç„ÄÇ</p>
</li>
</ul>
<h3 id="io">ÈòªÂ°û I/O<a class="headerlink" href="#io" title="Permanent link">&para;</a></h3>
<p>ÂΩìËØªÂÜôËØ∑Ê±ÇÊó†Ê≥ïÁ´ãÂç≥ÂÆåÊàêÊó∂ÔºåÈ©±Âä®‰ºöÂ∞ÜËøõÁ®ãÁΩÆ‰∫éÁù°Áú†Áä∂ÊÄÅ„ÄÇÊú¨ËäÇÂ≠¶‰π†ËøõÁ®ãÁù°Áú†ÁöÑÁõ∏ÂÖ≥Áü•ËØÜ„ÄÇÁù°Áú†Â∞±ÊòØÂ∞ÜËøõÁ®ãÊ†áËÆ∞‰∏∫‰∏ÄÁßçÁä∂ÊÄÅÔºå‰ªéË∞ÉÂ∫¶Âô®ÁöÑÂèØËøêË°åÈòüÂàó‰∏≠ÁßªÈô§„ÄÇ</p>
<ul>
<li>ÂèØ‰ª•Âú® <code>wait_queue_head_t</code> ‰∏≠ÊâæÂà∞Ê≠£Âú®Á≠âÂæÖÁöÑËøõÁ®ãÂπ∂Â∞ÜÂÖ∂Âî§ÈÜí„ÄÇ</li>
<li>‰ΩøÁî® <code>wait_event(queue, condition)</code> ‰ΩøËøõÁ®ãËøõÂÖ•Áù°Áú†„ÄÇ</li>
<li>‰ΩøÁî® <code>wake_up(queue)</code> Âî§ÈÜíËøõÁ®ã„ÄÇ</li>
<li><code>filp-&gt;f_flags</code> Êúâ <code>O_NONBLOCK</code> Ê†áËÆ∞ÔºåÈ©±Âä®ÂèØ‰ª•ËÄÉËôëÊîØÊåÅÈùûÈòªÂ°û I/O„ÄÇÊúâ‰∫õÊìç‰ΩúÈúÄË¶ÅËä±Ë¥πËæÉÈïøÊó∂Èó¥Êó∂ÂèØ‰ª•‰ΩøÁî®ÈùûÈòªÂ°û I/O ËøîÂõû <code>EAGAIN</code>ÔºåËÆ©Â∫îÁî®Á®ãÂ∫èÊâßË°åËΩÆËØ¢„ÄÇ</li>
</ul>
<p>Êú¨ËäÇ‰ª•‰∏Ä‰∏™ÈòªÂ°û I/O ÁöÑ‰æãÁ®ãÁªìÂ∞æÔºö</p>
<ul>
<li><code>read</code> ËØ∑Ê±ÇÈòªÂ°ûÔºåÁõ¥Âà∞Á°¨‰ª∂ÂèëÂá∫‰∏≠Êñ≠„ÄÇ‰Ωú‰∏∫‰∏≠Êñ≠Â§ÑÁêÜÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÈ©±Âä®Âî§ÈÜíÁ≠âÂæÖÁöÑËøõÁ®ã„ÄÇ</li>
<li>Á§∫‰æãÁ®ãÂ∫èÂõ†‰∏∫Ê≤°ÊúâÁ°¨‰ª∂ÔºåÈááÁî®Âè¶‰∏Ä‰∏™ËøõÁ®ãÁîüÊàêÊï∞ÊçÆÂπ∂Âî§ÈÜí„ÄÇ</li>
<li>È©±Âä®ÂÖ∑ÊúâËØª/ÂÜôÈòüÂàóÂíåÁºìÂÜ≤Âå∫„ÄÇ</li>
</ul>
<p>Êú¨Á´†Ââ©‰ΩôÈÉ®ÂàÜÊöÇÁï•„ÄÇ</p>
<h2 id="_30">Á¨¨‰∏ÉÁ´†ÔºöÊó∂Èó¥„ÄÅÂª∂Ëøü‰∏éÂª∂ÂêéÂ∑•‰Ωú<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h2>
<p>Áé∞ÂÆû‰∏ñÁïå‰∏≠ÁöÑÈ©±Âä®ËøòÈúÄË¶ÅÂ§ÑÁêÜÊó∂Èó¥„ÄÅÂÜÖÂ≠òÁÆ°ÁêÜÂíåÁ°¨‰ª∂ËÆøÈóÆÁ≠âÈóÆÈ¢ò„ÄÇ</p>
<h3 id="_31">ÊµãÈáèÊó∂Èó¥<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h3>
<ul>
<li>‰ΩøÁî®ÂÜÖÊ†∏ÁöÑ <code>jiffies</code> ËÆ°Êï∞Âô®ÔºöÂÜÖÊ†∏ÈÄöËøáÊó∂Èíü‰∏≠Êñ≠Êù•ËÆ∞ÂΩïÊó∂Èó¥„ÄÇÊó∂Èíü‰∏≠Êñ≠‰∏ÄËà¨ 1000 Ê¨°/ÁßíÔºåÂèØ‰ª•ÈÄöËøá <code>HZ</code> ÂÆèÊü•Áúã„ÄÇÊó∂Èíü‰∏≠Êñ≠ÂèëÁîüÊó∂ÔºåÂÜÖÊ†∏‰∏≠ÁöÑËÆ°Êï∞Âô® <code>jiffies</code> Â∞±ÈÄíÂ¢û„ÄÇ</li>
<li>
<p>‰ΩøÁî®Âπ≥Âè∞ÁâπÂÆöÁöÑÂØÑÂ≠òÂô®ÔºöÂ¶ÇÊûúÈúÄË¶ÅÊµãÈáèÁ≤æÁ°ÆÁöÑÊó∂Èó¥ÔºåÂèØ‰ª•Áâ∫Áâ≤‰∏Ä‰∫õÁßªÊ§çÊÄßÔºå‰ΩøÁî®Á°¨‰ª∂ÁöÑËÆ°Êó∂Âô®„ÄÇ</p>
<ul>
<li>Áé∞‰ª£ CPU ÁöÑÁºìÂ≠ò„ÄÅÊåá‰ª§ÈáçÊéí„ÄÅÂàÜÊîØÈ¢ÑÊµãÁ≠âÊäÄÊúØÂØºËá¥Êåá‰ª§ÁöÑÊó∂Èó¥Êó†Ê≥ïÈ¢ÑÁü•„ÄÇÂéÇÂïÜÈÄöËøáÊèê‰æõÊó∂ÈíüÂë®ÊúüËÆ°Êï∞Âô®Ëß£ÂÜ≥È´òÁ≤æÂ∫¶ËÆ°Êó∂ÁöÑÈóÆÈ¢ò„ÄÇ</li>
<li>ËøôÊ†∑ÁöÑËÆ°Êó∂Âô®Âõ†Âπ≥Âè∞ËÄåÂºÇÔºåÂèØËÉΩ 64 ‰ΩçÊàñ 32 ‰ΩçÔºåÂèØËÉΩÂè™ËØªÊàñÂèØÂÜôÔºåÂèØËÉΩÊó†Ê≥ï‰ªéÁî®Êà∑Á©∫Èó¥ËÆøÈóÆ„ÄÇ</li>
<li>
<p>ÊúÄÊúâÂêçÁöÑËÆ°Êó∂Âô®ÊòØ x86 Âπ≥Âè∞‰∏äÁöÑ TSCÔºàTime Stamp CounterÔºâ„ÄÇËøô‰∏™ 64 ‰ΩçÂØÑÂ≠òÂô®ËÆ∞ÂΩïÊó∂ÈíüÂë®ÊúüÊï∞ÔºåÂèØ‰ª•‰ªéÂÜÖÊ†∏ÂíåÁî®Êà∑Á©∫Èó¥ËÆøÈóÆ„ÄÇ</p>
<div class="language-c highlight"><span class="filename">asm/msr.h</span><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">rdtsc</span><span class="p">(</span><span class="n">low32</span><span class="p">,</span><span class="w"> </span><span class="n">high32</span><span class="p">);</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="n">rdtscl</span><span class="p">(</span><span class="n">low32</span><span class="p">);</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="n">rdtscll</span><span class="p">(</span><span class="n">var64</span><span class="p">);</span>
</span></code></pre></div>
<p>‰∏æ‰∏™‰æãÂ≠êÔºå1 GHz ÁöÑ CPU Á∫¶ 4.2 ÁßíÊ∫¢Âá∫‰∏ÄÊ¨° 32 ‰ΩçËÆ°Êï∞Âô®„ÄÇ</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="n">unsinged</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">ini</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">;</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">rdtscl</span><span class="p">(</span><span class="n">ini</span><span class="p">);</span><span class="w"> </span><span class="n">rdtscl</span><span class="p">(</span><span class="n">end</span><span class="p">);</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="n">printk</span><span class="p">(</span><span class="s">&quot;Time: %lu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ini</span><span class="p">);</span>
</span></code></pre></div>
</li>
<li>
<p>ÂÜÖÊ†∏Êèê‰æõ <code>rdtsc</code> ÁöÑÊõø‰ª£ÂìÅ <code>get_cycles</code>Ôºå‰∏éÂπ≥Âè∞Êó†ÂÖ≥„ÄÇ</p>
</li>
<li>
<p>Êú¨ËäÇËøò‰ªãÁªç‰∫Ü‰ΩøÁî®Ê±áÁºñÂÜÖËÅî‰ª£Á†ÅÁöÑÊñπÊ≥ï„ÄÇ‰∏ãÈù¢Ëøô‰∏™ÂÆèÂú® MIPS Âπ≥Âè∞‰∏äÂÆûÁé∞‰∫Ü <code>rdtsc</code>Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="cp">#define rdtscl(dest) \</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="cp">    __asm__ __volatile__(&quot;mfc0 %0,$9; nop&quot; : &quot;=r&quot; (dest))</span>
</span></code></pre></div>
</li>
<li>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂπ≥Âè∞ÁâπÂÆöÁöÑËÆ°Êó∂Âô®Âú® SMP Á≥ªÁªü‰∏äÂèØËÉΩ‰∏çÂêåÊ≠•„ÄÇÂõ†Ê≠§ÔºåÈúÄË¶ÅÂÖ≥Èó≠ Linux ÁöÑÊä¢Âç†Êú∫Âà∂Ôºå‰ΩøÂæó‰ª£Á†ÅÂßãÁªàÂú®Âêå‰∏Ä‰∏™ CPU ‰∏äËøêË°å„ÄÇ</p>
</li>
<li>ÂΩìÂâçÊó∂Èó¥ÔºàWall-clock timeÔºâÔºöËøô‰∏™Ëã±ÊñáÂæàÂΩ¢Ë±°ÔºåÂ∞±ÊòØÊåÇËΩΩÂ¢ô‰∏äÁöÑÈíüÁöÑÊó∂Èó¥</li>
<li>ÂØπ‰∫éÈ©±Âä®Êù•ËØ¥Ôºå‰∏ÄËà¨‰∏ç‰ºö‰ΩøÁî®Ëøô‰∏™Êó∂Èó¥„ÄÇÁõ∏ÂÖ≥Êìç‰Ωú‰∏ÄËà¨ÊîæÂà∞Áî®Êà∑Á©∫Èó¥ËøõË°åÔºåÂ¶Ç <code>cron</code>„ÄÇ</li>
<li>ÂÜÖÊ†∏Êèê‰æõ‰∫Ü <code>gettimeofday</code> Á≠âÂáΩÊï∞ÔºåÂèØ‰ª•Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥Êà≥„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="_32">Âª∂ËøüÊâßË°å<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h3>
<p>Áï•</p>
<h2 id="_33">Á¨¨ÂÖ´Á´†ÔºöÂàÜÈÖçÂÜÖÂ≠ò<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h2>
<h3 id="kmalloc"><code>kmalloc</code> ÁöÑÁªÜËäÇ<a class="headerlink" href="#kmalloc" title="Permanent link">&para;</a></h3>
<div class="language-c highlight"><span class="filename">linux/slab.h</span><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">kmalloc</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flags</span><span class="p">);</span>
</span></code></pre></div>
<p>ÊúÄÂ∏∏Áî®ÁöÑ <code>flags</code> ÊòØ <code>GFP_KERNEL</code> Âíå <code>GFP_ATOMIC</code>„ÄÇÂâçËÄÖË°®Á§∫‰∏∫‰∏Ä‰∏™ËøõÁ®ãÂàÜÈÖçÂÜÖÂ≠òÔºåÂèØËÉΩ‰ºöÁù°Áú†ÔºõÂêéËÄÖÂèØÁî®‰∫é‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èÁ≠â‰∏çÂú®ËøõÁ®ã‰∏ä‰∏ãÊñá‰∏≠ÁöÑÂú∞ÊñπÔºå‰∏î‰∏ç‰ºöÁù°Áú†„ÄÇ</p>
<p>Linux ÂÜÖÊ†∏Áü•ÈÅìËá≥Â∞ë‰∏âÁßçÂÜÖÂ≠òÂå∫ÂüüÔºöDMA ‰ΩøËÉΩÂÜÖÂ≠ò„ÄÅÊôÆÈÄöÂÜÖÂ≠òÂíåÈ´òÁ´ØÂÜÖÂ≠ò„ÄÇ‰ΩøÁî®‰∏çÂêåÁöÑ <code>flags</code> ÂèØ‰ª•ÊåáÂÆö‰ªé‰∏çÂêåÁöÑÂå∫ÂüüÂàÜÈÖçÂÜÖÂ≠ò„ÄÇ</p>
<ul>
<li>ÂØπ‰∫éÁªùÂ§ßÂ§öÊï∞Âπ≥Âè∞ÔºåÊâÄÊúâÁöÑÂÜÖÂ≠òÈÉΩÂú® DMA Âå∫Âüü„ÄÇ</li>
<li>È´òÁ´ØÂÜÖÂ≠òÁî®‰∫é x86 Âπ≥Âè∞ËÆøÈóÆÂ§ßÈáèÂÜÖÂ≠òÔºåÈúÄË¶ÅÂª∫Á´ãÁâπÂà´ÁöÑÊò†Â∞Ñ„ÄÇ</li>
<li>ÂØπ‰∫é NUMA Êû∂ÊûÑÊù•ËØ¥Ôºå‰ºöÂ∞ΩÈáèÂàÜÈÖçÊú¨Âú∞ÂÜÖÂ≠ò„ÄÇ</li>
</ul>
<p>Linux ÂàõÂª∫ÂÜÖÂ≠òÊ±†ÔºåÂÜÖÂ≠òÂÇ®‰∏≠ÊúâÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÂÜÖÂ≠òÂØπË±°„ÄÇÂàÜÈÖçÂÜÖÂ≠òÊó∂Ôºå‰ªéÂÖ∑ÊúâË∂≥Â§üÂ§ßÁöÑÂÜÖÂ≠òÂØπË±°ÁöÑÊ±†‰∏≠ÂèñÂá∫ÂÜÖÂ≠òÔºåÂ∞ÜÂÖ∂Êï¥ÂùóËøîÂõûÁªôË∞ÉÁî®ËÄÖ„ÄÇÂÜÖÊ†∏ÁºñÁ®ãËÄÖÂ∫îÂΩìÊ≥®ÊÑèËøô‰∏ÄÁÇπÔºåÂç≥ÂàÜÈÖçÁöÑÂÜÖÂ≠òÂèØËÉΩÊØîËØ∑Ê±ÇÁöÑÂÜÖÂ≠òÂ§ß„ÄÇ</p>
<p>Êú¨ËäÇÊ≤°ÊúâÊ∑±ÂÖ•Êé¢Á©∂ÂÖ∑‰ΩìÊú∫Âà∂„ÄÇ</p>
<h3 id="lookaside">Lookaside ÁºìÂ≠ò<a class="headerlink" href="#lookaside" title="Permanent link">&para;</a></h3>
<p>Êú¨Á´†Ââ©‰ΩôÈÉ®ÂàÜÁï•„ÄÇ</p>
<h2 id="_34">Á¨¨‰πùÁ´†Ôºö‰∏éÁ°¨‰ª∂Ê≤üÈÄö<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h2>
<h3 id="io-io">I/O Á´ØÂè£Âíå I/O ÂÜÖÂ≠ò<a class="headerlink" href="#io-io" title="Permanent link">&para;</a></h3>
<p>ËøôÊòØ‰∏§Áßç‰∏çÂêåÁöÑÁ°¨‰ª∂ËÆøÈóÆÊñπÂºèÔºö</p>
<ul>
<li>Â§ñÂõ¥ËÆæÂ§áÈÄöËøáËØª/ÂÜôÂÖ∂ÂØÑÂ≠òÂô®ËøõË°åÊéßÂà∂„ÄÇÊØè‰∏™ËÆæÂ§áÊúâ‰∏Ä‰∫õÂØÑÂ≠òÂô®ÔºåÂú®ÂÜÖÂ≠òÂú∞ÂùÄÁ©∫Èó¥Êàñ I/O Âú∞ÂùÄÁ©∫Èó¥‰∏≠ËøûÁª≠ÂàÜÂ∏É„ÄÇÂú®Á°¨‰ª∂Â±ÇÈù¢‰∏äÔºåËøô‰∫õÂú∞ÂùÄÁ©∫Èó¥Ê≤°ÊúâÊú¨Ë¥®Âå∫Âà´ÔºåÈÉΩÊòØÂêëÂú∞ÂùÄÊÄªÁ∫øÂíåÊéßÂà∂ÊÄªÁ∫øÂèëÈÄÅ‰ø°Âè∑Ôºå‰ªéÊï∞ÊçÆÊÄªÁ∫øËØªÂèñÊàñÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ<ul>
<li>Êúâ‰∫õ CPUÔºàÂ¶Ç x86ÔºâÂàôÂå∫ÂàÜÂÜÖÂ≠òÂíå I/O Âú∞ÂùÄÁ©∫Èó¥Ôºå‰ΩøÁî®‰∏ìÈó®ÁöÑÊåá‰ª§ËÆøÈóÆ I/O Á´ØÂè£„ÄÇ</li>
<li>ÊúâÁöÑ CPU ‰ΩøÁî®Áªü‰∏ÄÂú∞ÂùÄÁ©∫Èó¥ÔºåÊ≤°Êúâ I/O Á´ØÂè£ÁöÑÊ¶ÇÂøµ„ÄÇ‰ΩÜÂ§ßÂ§öÊï∞ÊÄªÁ∫øÊ†áÂáÜÈÉΩÊúâ I/O Á´ØÂè£ÁöÑÊ¶ÇÂøµÔºåËøô‰∫õ CPU Â∞±ÈÄöËøáÂÜÖ/Â§ñÈÉ®ÁîµË∑ØÊ®°Êãü I/O Á´ØÂè£„ÄÇ</li>
<li>Linux ‰πüÂú®ÊâÄÊúâÂπ≥Âè∞‰∏äÂÆûÁé∞ I/O Á´ØÂè£ÁöÑÊ¶ÇÂøµÔºåÂç≥‰ΩøÂ∫ïÂ±Ç CPU ÊòØÁªü‰∏ÄÂú∞ÂùÄÁ©∫Èó¥„ÄÇ</li>
</ul>
</li>
<li>Âç≥‰ΩøÂ§ñÂõ¥ÊÄªÁ∫øÊúâ I/O Á´ØÂè£Áã¨Á´ãÁöÑÂú∞ÂùÄÁ©∫Èó¥ÔºåÊúâ‰∫õËÆæÂ§á‰πü‰∏ç‰ºöÊääÂØÑÂ≠òÂô®Êò†Â∞ÑÂà∞ I/O Á´ØÂè£ÔºåËÄåÊòØÊò†Â∞ÑÂà∞ÂÜÖÂ≠òÂú∞ÂùÄÁ©∫Èó¥ÔºàÊØîÂ¶Ç PCI ËÆæÂ§áÔºâÔºåÂõ†‰∏∫ËøôÊ†∑Ôºö‰∏çÈúÄË¶Å‰∏ìÈó®ÁöÑ CPU Êåá‰ª§„ÄÅËÆøÈóÆÊïàÁéáÊõ¥È´ò„ÄÅÁºñËØëÂô®Âú®ÂØÑÂ≠òÂô®ÂàÜÈÖçÂíåËÆøÂ≠òÊ®°ÂºèÁöÑÈÄâÊã©‰∏äÊõ¥ÁÅµÊ¥ª„ÄÇ</li>
</ul>
<p>I/O Êìç‰ΩúÊúâÂâØ‰ΩúÁî®ÔºåËÄåÂÜÖÂ≠òÊ≤°ÊúâÔºö</p>
<ul>
<li>ÂÜÖÂ≠òÂØπ CPU ÁöÑÊÄßËÉΩÈùûÂ∏∏ÈáçË¶ÅÔºåÂõ†Ê≠§ËøõË°å‰∫ÜÂæàÂ§ö‰ºòÂåñÔºö<ul>
<li>ÁºñËØëÂô®ÂèØ‰ª•ËøõË°åÁºìÂ≠òÔºå‰ΩøÁî®ÂØÑÂ≠òÂô®Êàñ CPU CacheÔºå‰∏çËøõÂÖ•Áâ©ÁêÜÂÜÖÂ≠ò„ÄÇ</li>
<li>ÁºñËØëÂíåÁ°¨‰ª∂ÊâßË°åÊó∂ÈÉΩÂèØËÉΩÂèëÁîüÈáçÊéí„ÄÇ</li>
</ul>
</li>
<li>‰∏äÈù¢Ëøô‰∫õ‰ºòÂåñ‰ºöÈÄ†Êàê I/O Êìç‰ΩúÁöÑ BugÔºåÂõ†Ê≠§ÈúÄË¶ÅËß£ÂÜ≥Ôºö<ul>
<li>ÁºìÂ≠òÈóÆÈ¢òÁî± Linux Ëß£ÂÜ≥ÔºåÂú®ËÆøÈóÆ I/O Âå∫ÂüüÊó∂ÂÖ≥Èó≠ÊâÄÊúâÁ°¨‰ª∂ÁºìÂ≠ò„ÄÇ</li>
<li>
<p>ÁºñËØëÂô®ÂíåÁ°¨‰ª∂ÁöÑÈáçÊéí‰ºòÂåñÈÄöËøá memory barrier Ëß£ÂÜ≥„ÄÇ</p>
<div class="language-c highlight"><span class="filename">linux/kernel.h</span><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">barrier</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></code></pre></div>
<div class="language-c highlight"><span class="filename">asm/system.h</span><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">mb</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">wmb</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"> </span><span class="c1">// write memory barrier</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">rmb</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"> </span><span class="c1">// read memory barrier</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">smp_rmb</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w"> </span><span class="c1">// read memory barrier for SMP</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="p">...</span>
</span></code></pre></div>
<p>ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºå‰∏éÂêåÊ≠•ÊúâÂÖ≥ÁöÑÂéüËØ≠ÔºàÂ¶Ç spinlock Âíå <code>atomic_t</code> Êìç‰ΩúÔºâ‰πü‰ºöËµ∑Âà∞ memory barrier ÁöÑ‰ΩúÁî®„ÄÇ</p>
</li>
</ul>
</li>
</ul>
<div class="admonition bug">
<p class="admonition-title">Avoid normal pointers!</p>
<p>Use wrapper functions instead.</p>
</div>
<h3 id="io_1">‰ΩøÁî® I/O Á´ØÂè£<a class="headerlink" href="#io_1" title="Permanent link">&para;</a></h3>
<div class="language-c highlight"><span class="filename">linux/ioport.h</span><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">resource</span><span class="w"> </span><span class="o">*</span><span class="n">request_region</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">release_region</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">len</span><span class="p">);</span>
</span></code></pre></div>
<p>Âú® <code>/proc/ioports</code> ‰∏≠ÂèØ‰ª•Êü•ÁúãÂΩìÂâçÁ≥ªÁªü‰∏≠ÁöÑ I/O Á´ØÂè£„ÄÇ</p>
<p>Á°¨‰ª∂ÂèØËÉΩÊèê‰æõ 8„ÄÅ16„ÄÅ32 ‰ΩçÁöÑÁ´ØÂè£ÔºåÂõ†Ê≠§Êúâ‰∏çÂêåÁöÑÂáΩÊï∞Áî®‰∫éËÆøÈóÆÔºö</p>
<div class="language-c highlight"><span class="filename">asm/io.h</span><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="kt">unsigned</span><span class="w"> </span><span class="nf">inb</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="n">port</span><span class="p">);</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">outb</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">byte</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">port</span><span class="p">);</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="kt">unsigned</span><span class="w"> </span><span class="nf">inw</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="n">port</span><span class="p">);</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">outw</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">word</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">port</span><span class="p">);</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="p">...</span>
</span></code></pre></div>
<p>GNU C Êèê‰æõ‰∫ÜÂú®Áî®Êà∑Á©∫Èó¥ËÆøÈóÆ I/O Á´ØÂè£ÁöÑÊñπÊ≥ïÔºà<code>&lt;sys/io.h&gt;</code>ÔºâÔºå‰ΩÜÊòØÈúÄË¶ÅÁ≥ªÁªüË∞ÉÁî®Êù•Ëé∑ÂèñÊùÉÈôê„ÄÇ</p>
<p>Êúâ‰∫õÂ§ÑÁêÜÂô®ËøòÂÆûÁé∞‰∫Ü‰∏ÄÊ¨°Âêë I/O Á´ØÂè£ËØªÂÜôÂ§ö‰∏™Â≠óËäÇÁöÑÊåá‰ª§„ÄÇ</p>
<p>I/O Êåá‰ª§‰∏éÂ§ÑÁêÜÂô®Êû∂ÊûÑÁ¥ßÂØÜÁõ∏ÂÖ≥ÔºåÊú¨ËäÇÂâ©‰ΩôÈÉ®ÂàÜÊ¶ÇËø∞‰∫Ü Linux ÊîØÊåÅÁöÑËøô‰∫õÊû∂ÊûÑ„ÄÇ</p>
<h3 id="io_2">‰∏Ä‰∏™ I/O Á´ØÂè£‰æãÂ≠ê<a class="headerlink" href="#io_2" title="Permanent link">&para;</a></h3>
<p>Â§ßÂ§öÊï∞ I/O ÂºïËÑöÊúâ‰∏§Â§ÑÊéßÂà∂Ôºö</p>
<ul>
<li>ÈÄâÊã©ÈÇ£‰∫õÂºïËÑöÁî®‰∫éËæìÂÖ•/ËæìÂá∫</li>
<li>ËØªÂèñÊàñÂÜôÂÖ•ÈÄªËæëÁîµÂπ≥</li>
</ul>
<p>A simple <strong>parallel port</strong> driver.</p>
<ul>
<li>
<p><strong>I/O Ports</strong>ÔºöTwo interface, begin at <code>0x378</code> and <code>0x278</code></p>
<p>Each interface consists of three ports:</p>
<div class="language-text highlight"><pre><span></span><code>- Port 1: Bidirectional data register
- Port 2: Read-only status register
- Port 3: Output-only control register
</code></pre></div>
</li>
<li>
<p><strong>Electrical Properties</strong>Ôºö</p>
<ul>
<li>Transistor-Transistor Logic (TTL), 0V and 5V.</li>
<li>25 Pins. Some of the pins are inverted.</li>
</ul>
</li>
</ul>
<p>The driver performs output operation as follows:</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="k">while</span><span class="p">(</span><span class="n">count</span><span class="o">--</span><span class="p">){</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">    </span><span class="n">outb</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">ptr</span><span class="o">++</span><span class="p">),</span><span class="w"> </span><span class="n">port</span><span class="p">);</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="n">wmb</span><span class="p">();</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="using-io-memory">Using I/O Memory<a class="headerlink" href="#using-io-memory" title="Permanent link">&para;</a></h3>
<p>I/O memory includes: memory-mapped <strong>registers</strong> and device memory.</p>
<p>Access through <strong>page tables</strong>? Depending on the arch and bus used:</p>
<ul>
<li>Through page table: call <code>ioremap</code> before doing I/O. Kernel arrange for physical address to be visible from driver.</li>
<li>Not through page table: like I/O ports.</li>
</ul>
<p>Steps before access I/O memory:</p>
<ul>
<li>
<p>Allocation:</p>
<div class="language-c highlight"><span class="filename">linux/ioport.h</span><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">resource</span><span class="w"> </span><span class="o">*</span><span class="n">request_mem_region</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">len</span><span class="p">,</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">                            </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">release_mem_region</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">len</span><span class="p">);</span>
</span></code></pre></div>
</li>
<li>
<p>Set up mapping: functions used to assign <strong>virtual addresses to I/O memory regions</strong></p>
<div class="language-c highlight"><span class="filename">asm/io.h</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">ioremap</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">phys_addr</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">ioremap_nocache</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">phys_addr</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">iounmap</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">addr</span><span class="p">);</span>
</span></code></pre></div>
</li>
<li>
<p>Accessor: in <code>asm/io.h</code></p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">ioread8</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">);</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">ioread16</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">);</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">ioread32</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">);</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="p">...</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="kt">void</span><span class="w"> </span><span class="n">iowrite8</span><span class="p">(</span><span class="n">u8</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">);</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="p">...</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="c1">// repeat</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="kt">void</span><span class="w"> </span><span class="n">ioread8_rep</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="kt">void</span><span class="w"> </span><span class="nf">iowrite8_rep</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="p">...</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="c1">// block</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="kt">void</span><span class="w"> </span><span class="n">memset_io</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">u8</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="kt">void</span><span class="w"> </span><span class="nf">memcpy_fromio</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="kt">void</span><span class="w"> </span><span class="nf">memcpy_toio</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span></code></pre></div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="k">while</span><span class="p">(</span><span class="n">count</span><span class="o">--</span><span class="p">){</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">    </span><span class="n">iowrite8</span><span class="p">(</span><span class="o">*</span><span class="n">prt</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">);</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="n">wmb</span><span class="p">();</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</li>
</ul>
<p>Ports as I/O memroy: makes I/O ports appear to be I/O memory</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">ioport_map</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ioport_unmap</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">);</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Industry Standard Architecture (ISA)</p>
<p>The term "ISA" used in this chapter does not refer to Instruction Set Architecture, but is a <strong>bus architecture</strong>.</p>
<p>See:</p>
<ul>
<li><a href="http://www.linux-tutorial.info/?page_id=267">Industry Standard Architecture ISA | The Linux Tutorial</a>.</li>
<li><a href="https://en.wikipedia.org/wiki/Industry_Standard_Architecture">Industry Standard Architecture - Wikipedia</a></li>
</ul>
</div>
<p>Since ISA has disappeared many years ago, we skip the ISA driver here.</p>
<h2 id="_35">Á¨¨ÂçÅÁ´†Ôºö‰∏≠Êñ≠Â§ÑÁêÜ<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h2>
<h2 id="_36">Á¨¨ÂçÅ‰∏ÄÁ´†ÔºöÂÜÖÊ†∏‰∏≠ÁöÑÊï∞ÊçÆÁ±ªÂûã<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h2>
<h2 id="pci">Á¨¨ÂçÅ‰∫åÁ´†ÔºöPCI È©±Âä®<a class="headerlink" href="#pci" title="Permanent link">&para;</a></h2>
<p>ËßÅ <a href="">ÊÄªÁ∫ø</a></p>
<h2 id="usb">Á¨¨ÂçÅ‰∏âÁ´†ÔºöUSB È©±Âä®<a class="headerlink" href="#usb" title="Permanent link">&para;</a></h2>
<h2 id="linux">Á¨¨ÂçÅÂõõÁ´†ÔºöLinux ËÆæÂ§áÊ®°Âûã<a class="headerlink" href="#linux" title="Permanent link">&para;</a></h2>
<p>2.5 ÁâàÊú¨ÂÜÖÊ†∏ÁöÑÂºÄÂèëÂ∑•‰Ωú‰∏ªË¶ÅÈõÜ‰∏≠Âú®ÂàõÂª∫Áªü‰∏ÄÁöÑËÆæÂ§áÊ®°Âûã‰∏ä„ÄÇ</p>
<p><a class="glightbox" href="../ldd3.assets/ldd_ch14_1.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="ldd_ch14_1" src="../ldd3.assets/ldd_ch14_1.webp" /></a></p>
<p>Áªü‰∏ÄÁöÑËÆæÂ§áÊ®°Âûã‰∏∫‰∏ãÂàóÂäüËÉΩÊèê‰æõÂü∫Á°ÄÔºö</p>
<ul>
<li>ÁîµÊ∫êÁÆ°ÁêÜ</li>
<li>Áî®Êà∑Á©∫Èó¥Ôºö<code>sysfs</code> ÂèØ‰ª•Êü•ÁúãÂíå‰øÆÊîπËÆæÂ§áÁä∂ÊÄÅ</li>
<li>ÁÉ≠ÊèíÊãî</li>
<li>ËÆæÂ§áÁ±ªÂà´ÔºàclassesÔºâ</li>
<li>ÂØπË±°ÁîüÂëΩÂë®Êúü</li>
</ul>
<h3 id="kobject-kset"><code>Kobject</code> Âíå <code>Kset</code><a class="headerlink" href="#kobject-kset" title="Permanent link">&para;</a></h3>
<p>Âú®‰∫ÜËß£ÂÖ∑‰ΩìÂÆûÁé∞ÂâçÔºåÂÖàÁúãÁúã <code>kobject</code> ÊòØÂ¶Ç‰ΩïË¢´‰ΩøÁî®ÁöÑ„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã‰∏ç‰ºö‰ΩøÁî®Áã¨Á´ãÁöÑ <code>kobject</code>ÔºåËÄåÊòØÂ∞ÜÂÖ∂ÂµåÂÖ•Âà∞ÂÖ∂‰ªñÁªìÊûÑ‰Ωì‰∏≠„ÄÇÁî®Èù¢ÂêëÂØπË±°ÁöÑÊÄùÊÉ≥ÁêÜËß£ÔºåÂèØ‰ª•ËÆ§‰∏∫ <code>kobject</code> ÊòØ‰∏Ä‰∏™Âü∫Á±ªÔºåÂÖ∂‰ªñÁªìÊûÑ‰ΩìÊòØÊ¥æÁîüÁ±ª„ÄÇ</p>
<ul>
<li>‰ªéÂÖ∂‰ªñÁªìÊûÑ‰ΩìÁöÑ <code>.kobj</code> ÊàêÂëòÂèØ‰ª•ËÆøÈóÆ <code>kobject</code>ÔºåÂØπ <code>kobject</code> ‰ΩøÁî® <code>container_of()</code> ÂÆèÂèØ‰ª•Ëé∑ÂèñÂà∞ÂÖ∂‰ªñÁªìÊûÑ‰Ωì„ÄÇ</li>
<li><code>kobject</code> Êèê‰æõÔºöÂºïÁî®ËÆ°Êï∞„ÄÅ<code>sysfs</code> Ë°®Á§∫„ÄÅÊï∞ÊçÆÁªìÊûÑËÉ∂Ê∞¥ÂíåÁÉ≠ÊèíÊãîÂ§ÑÁêÜÁ≠âÂäüËÉΩ„ÄÇ</li>
<li>Â∏∏ËßÅ‰ΩøÁî®Ê≠•È™§Ôºö<ul>
<li>Â∞Ü <code>kobject</code> ‰Ωú‰∏∫ÂµåÂÖ•ÁªìÊûÑ‰ΩìÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰ΩøÁî® <code>memset()</code> ÂàùÂßãÂåñ‰∏∫ 0„ÄÇ</li>
<li><code>kobject_init()</code> Â∞ÜÂºïÁî®ËÆ°Êï∞ÁΩÆ 1„ÄÇ</li>
<li><code>kobject_set_name()</code> ËÆæÁΩÆÂêçÂ≠óÔºåÁî®‰∫é <code>sysfs</code>„ÄÇ</li>
<li>ÊÄªÁöÑÊù•ËØ¥ÔºåÂàõÂª∫ËÄÖÈúÄË¶ÅËÆæÁΩÆÂÖ∂ <code>ktype</code>„ÄÅ<code>parent</code> Âíå <code>kset</code> ÊàêÂëò„ÄÇ</li>
</ul>
</li>
<li>
<p>ÂºïÁî®ËÆ°Êï∞Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobject_get</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">);</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">kobject_put</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">);</span>
</span></code></pre></div>
<p>Âú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåÂºïÁî®ËÆ°Êï∞Âπ∂‰∏çËÉΩÂÆåÂÖ®Ëß£ÂÜ≥ÈóÆÈ¢òÔºåÊØîÂ¶Ç <code>kobject</code> ‰Ωú‰∏∫ÂÜÖÊ†∏Ê®°ÂùóÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂ¶ÇÊûúÂÆÉÂú®Ë¢´‰ΩøÁî®ÔºåÈÇ£‰πàÂ∞±‰∏çËÉΩÂç∏ËΩΩÂØπÂ∫îÁöÑÊ®°Âùó„ÄÇÂæàÂ§öÁªìÊûÑ‰ΩìÂåÖÂê´ <code>struct module</code> ÊåáÈíàÔºåÂú®Áª¥Êä§ÂºïÁî®ËÆ°Êï∞Êó∂Ê£ÄÊü•Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">cdev_get</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">cdev</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">)</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="p">{</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">module</span><span class="w"> </span><span class="o">*</span><span class="n">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">owner</span><span class="p">;</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">kobj</span><span class="p">;</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">owner</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">try_module_get</span><span class="p">(</span><span class="n">owner</span><span class="p">))</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">    </span><span class="n">kobj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kobject_get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">kobj</span><span class="p">);</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">kobj</span><span class="p">)</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="w">        </span><span class="n">module_put</span><span class="p">(</span><span class="n">owner</span><span class="p">);</span>
</span><span id="__span-42-10"><a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">kobj</span><span class="p">;</span>
</span><span id="__span-42-11"><a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ul>
<div class="language-c highlight"><span class="filename">linux/kobject.h</span><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">;</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">parent</span><span class="p">;</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">kset</span><span class="w"> </span><span class="o">*</span><span class="n">kset</span><span class="p">;</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">kobj_type</span><span class="w"> </span><span class="o">*</span><span class="n">ktype</span><span class="p">;</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">sysfs_dirent</span><span class="w"> </span><span class="o">*</span><span class="n">sd</span><span class="p">;</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">kref</span><span class="w"> </span><span class="n">kref</span><span class="p">;</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="w"> </span><span class="n">entry</span><span class="p">;</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="p">};</span>
</span></code></pre></div>
<h3 id="sysfs">sysfs<a class="headerlink" href="#sysfs" title="Permanent link">&para;</a></h3>
<p><code>kobject</code> Âú® sysfs ‰∏≠ÊòæÁ§∫‰∏∫ÁõÆÂΩïÔºåÂÖ∂‰∏≠ÁöÑÂ±ûÊÄßÊòæÁ§∫‰∏∫Êñá‰ª∂„ÄÇË∞ÉÁî® <code>kobject_add()</code> ÁöÑ‰∏Ä‰∏™‰ΩúÁî®Â∞±ÊòØ‰ª§ÂÖ∂Âú® sysfs ‰∏≠Âá∫Áé∞„ÄÇÂ±ûÊÄßÈÄöËøá‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊåáÂÆöÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">kobj_type</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">   </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">release</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="p">);</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">sysfs_ops</span><span class="w"> </span><span class="o">*</span><span class="n">sysfs_ops</span><span class="p">;</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">attribute</span><span class="w"> </span><span class="o">**</span><span class="n">default_attrs</span><span class="p">;</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="p">};</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="k">struct</span><span class="w"> </span><span class="nc">attribute</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">   </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">;</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">module</span><span class="w"> </span><span class="o">*</span><span class="n">owner</span><span class="p">;</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">   </span><span class="kt">mode_t</span><span class="w"> </span><span class="n">mode</span><span class="p">;</span>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="p">};</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="k">struct</span><span class="w"> </span><span class="nc">sysfs_ops</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="w">   </span><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">show</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">attribute</span><span class="w"> </span><span class="o">*</span><span class="n">attr</span><span class="p">,</span>
</span><span id="__span-44-13"><a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="w">                   </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">);</span>
</span><span id="__span-44-14"><a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a><span class="w">   </span><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">store</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">attribute</span><span class="w"> </span><span class="o">*</span><span class="n">attr</span><span class="p">,</span>
</span><span id="__span-44-15"><a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a><span class="w">                    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</span><span id="__span-44-16"><a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a><span class="p">};</span>
</span></code></pre></div>
<p>ËØªÂèñÂ±ûÊÄßÊó∂Ë∞ÉÁî® <code>show()</code>ÔºåÂÜôÂÖ•Êó∂Ë∞ÉÁî® <code>store()</code>„ÄÇ</p>
<p>Èô§‰∫ÜÈªòËÆ§Â±ûÊÄßÂ§ñÔºåËøòÂèØ‰ª•Áî® <code>sysfs_create/remove_file()</code> Êìç‰ΩúÂ±ûÊÄß„ÄÇ</p>
<p>‰∏ÄËà¨Á∫¶ÂÆöÔºåÂ±ûÊÄßÊòØ‰∫∫Á±ªÂèØËØªÁöÑÂçïÂÄºÂ≠óÁ¨¶‰∏≤„ÄÇ‰ΩÜÂú®‰∏ä‰º†Âõ∫‰ª∂Á≠âÂú∫ÊôØ‰∏ãÔºåËøò‰ºöÈúÄË¶Å‰∫åËøõÂà∂ÁöÑÂ±ûÊÄßÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">bin_attribute</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">attribute</span><span class="w"> </span><span class="n">attr</span><span class="p">;</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">   </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">   </span><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">read</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">                   </span><span class="n">loff_t</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">   </span><span class="kt">ssize_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">write</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">                   </span><span class="n">loff_t</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="p">};</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="n">sysfs_create</span><span class="o">/</span><span class="n">remove_bin_file</span><span class="p">()</span>
</span></code></pre></div>
<p>‰ΩøÁî® <code>sysfs_create/remove_link()</code> Â∞ÜÁõÆÊ†áÊù°ÁõÆÂàõÂª∫‰∏∫ËØ• kobj ÁöÑÂ±ûÊÄß„ÄÇ</p>
<h3 id="_37">ÁÉ≠ÊèíÊãî‰∫ã‰ª∂<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h3>
<p>Âú® kobj Ë¢´ÂàõÂª∫ÊàñÂà†Èô§Êó∂ÔºåÂÜÖÊ†∏ÂêëÁî®Êà∑Á©∫Èó¥ÂèëÂá∫ÁÉ≠ÊèíÊãî‰∫ã‰ª∂ÁöÑÈÄöÁü•„ÄÇÈÄöÂ∏∏‰ºöÊøÄÊ¥ª <code>/sbin/hotplug</code>ÔºåÊâßË°åÂä†ËΩΩÈ©±Âä®Á®ãÂ∫èÁ≠âÂäüËÉΩ„ÄÇ</p>
<p><code>kobject_add/del()</code> ‰∏≠ÁîüÊàêÁÉ≠ÊèíÊãî‰∫ã‰ª∂ÔºåÁõ∏ÂÖ≥ÊéßÂà∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">kset_hotplug_ops</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">filter</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kset</span><span class="w"> </span><span class="o">*</span><span class="n">kset</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">);</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">   </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">name</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kset</span><span class="w"> </span><span class="o">*</span><span class="n">kset</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">);</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hotplug</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">kset</span><span class="w"> </span><span class="o">*</span><span class="n">kset</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="o">*</span><span class="n">kobj</span><span class="p">,</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">                  </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">envp</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">num_envp</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">                  </span><span class="kt">int</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">);</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="p">};</span>
</span></code></pre></div>
<h3 id="_38">ÊÄªÁ∫ø„ÄÅËÆæÂ§áÂíåÈ©±Âä®<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h3>
<p>Â§ßÈÉ®ÂàÜÈ©±Âä®Á®ãÂ∫èÂπ∂‰∏çÈúÄË¶Å‰∫ÜËß£Ëøô‰∫õÂÜÖÂÆπÔºåÂè™ÈúÄË¶Å‰ΩøÁî®ÊÄªÁ∫øÈÄªËæëÂ∞±ËÉΩÂÆåÊàê„ÄÇ‰ΩÜ DMA Á≠âÊìç‰ΩúÈúÄË¶ÅÁõ¥Êé•‰∏é <code>device</code> ‰∫§‰∫í„ÄÇ</p>
<p>Âá†‰∏™ÁªìÊûÑ‰ΩìÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">bus_type</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">   </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">;</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">subsystem</span><span class="w"> </span><span class="n">subsys</span><span class="p">;</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">kset</span><span class="w"> </span><span class="n">drivers</span><span class="p">;</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">kset</span><span class="w"> </span><span class="n">devices</span><span class="p">;</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">match</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">device</span><span class="w"> </span><span class="o">*</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">device_driver</span><span class="w"> </span><span class="o">*</span><span class="n">drv</span><span class="p">);</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">device</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">add</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">device</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">bus_id</span><span class="p">);</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hotplug</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">device</span><span class="w"> </span><span class="o">*</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">envp</span><span class="p">,</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">                   </span><span class="kt">int</span><span class="w"> </span><span class="n">num_envp</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">);</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">   </span><span class="cm">/* Some fields omitted */</span>
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="p">};</span>
</span><span id="__span-47-12"><a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="k">struct</span><span class="w"> </span><span class="nc">device</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-13"><a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">device</span><span class="w"> </span><span class="o">*</span><span class="n">parent</span><span class="p">;</span>
</span><span id="__span-47-14"><a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">kobject</span><span class="w"> </span><span class="n">kobj</span><span class="p">;</span>
</span><span id="__span-47-15"><a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="w">   </span><span class="kt">char</span><span class="w"> </span><span class="n">bus_id</span><span class="p">[</span><span class="n">BUS_ID_SIZE</span><span class="p">];</span>
</span><span id="__span-47-16"><a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">bus_type</span><span class="w"> </span><span class="o">*</span><span class="n">bus</span><span class="p">;</span>
</span><span id="__span-47-17"><a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">   </span><span class="k">struct</span><span class="w"> </span><span class="nc">device_driver</span><span class="w"> </span><span class="o">*</span><span class="n">driver</span><span class="p">;</span>
</span><span id="__span-47-18"><a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="w">   </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">driver_data</span><span class="p">;</span>
</span><span id="__span-47-19"><a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="w">   </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">release</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">device</span><span class="w"> </span><span class="o">*</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-47-20"><a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="w">   </span><span class="cm">/* Several fields omitted */</span>
</span><span id="__span-47-21"><a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="p">};</span>
</span></code></pre></div>
<h2 id="dma">Á¨¨ÂçÅ‰∫îÁ´†ÔºöÂÜÖÂ≠òÊò†Â∞Ñ‰∏é DMA<a class="headerlink" href="#dma" title="Permanent link">&para;</a></h2>
<blockquote>
<p>ÂΩìÊàë‰ª¨ËøõÂÖ•Â§çÊùÇÂíåÊÄßËÉΩÂÖ≥ÈîÆÁöÑÈ¢ÜÂüüÊó∂ÔºåËôöÊãüÂÜÖÂ≠òÁ≥ªÁªüÊòØ Linux ÂÜÖÊ†∏‰∏≠ÈùûÂ∏∏ÊúâË∂£ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ</p>
<p>Êú¨ËäÇË¶ÜÁõñ‰∏â‰∏™ÈÉ®ÂàÜÔºö</p>
<ul>
<li><code>mmap()</code> Á≥ªÁªüË∞ÉÁî®Â¶Ç‰ΩïÂ∞ÜËÆæÂ§áÁöÑÂÜÖÂ≠òÊò†Â∞ÑÂà∞ËøõÁ®ãÁî®Êà∑Á©∫Èó¥</li>
<li><code>get_user_pages()</code> Â¶Ç‰ΩïÁõ¥Êé•ËÆøÈóÆÁî®Êà∑Á©∫Èó¥È°µÈù¢</li>
<li>DMA</li>
</ul>
</blockquote>
<h3 id="linux_1">Linux ÂÜÖÂ≠òÁÆ°ÁêÜ<a class="headerlink" href="#linux_1" title="Permanent link">&para;</a></h3>
<p>Âú® Linux ÂÜÖÊ†∏‰∏≠ÔºåÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÂ∫îËØ•‰ΩøÁî®‰ªÄ‰πàÁ±ªÂûãÁöÑÂú∞ÂùÄÂπ∂‰∏çÊÄªÊòØÊòæËÄåÊòìËßÅ„ÄÇ</p>
<ul>
<li>Áî®Êà∑ËôöÊãüÂú∞ÂùÄ</li>
<li>Áâ©ÁêÜÂú∞ÂùÄ</li>
<li>
<p>I/O Âú∞ÂùÄÊàñÊÄªÁ∫øÂú∞ÂùÄ</p>
<p>Êúâ‰∫õ‰ΩìÁ≥ªÁªìÊûÑÊèê‰æõ‰∫Ü IOMMUÔºàInput/Output Memory Management UnitÔºâÊù•Â§ÑÁêÜÊÄªÁ∫øÂú∞ÂùÄÂà∞Áâ©ÁêÜÂú∞ÂùÄÁöÑÊò†Â∞Ñ„ÄÇIOMMU Êèê‰æõËÆ∏Â§ö‰æøÂà©ÔºåÊØîÂ¶ÇÈÄöËøáÂú∞ÂùÄÈáçÊò†Â∞ÑÔºåËÆæÂ§áÁúãÂà∞ÁöÑÂú∞ÂùÄÁ©∫Èó¥ÊòØËøûÁª≠ÁöÑÔºå‰ΩÜÊìç‰ΩúÁ≥ªÁªüÂèØËÉΩÊó†Ê≥ïÊâæÂà∞‰∏ÄÂùóË∂≥Â§üÂ§ßÁöÑËøûÁª≠Áâ©ÁêÜÂÜÖÂ≠òÁ©∫Èó¥Êù•Êª°Ë∂≥ÈúÄÊ±ÇÔºåIOMMU Â∞ÜËøô‰∫õËøûÁª≠ÁöÑËÆæÂ§áÂú∞ÂùÄÂä®ÊÄÅÊò†Â∞ÑÂà∞ÂÆûÈôÖÁâ©ÁêÜÂÜÖÂ≠ò‰∏≠ÂàÜÊï£ÁöÑÁºìÂÜ≤Âå∫„ÄÇ</p>
<p>IOMMU ÁÆÄÂåñ‰∫ÜËÆæÂ§áÈ©±Âä®Á®ãÂ∫èÁöÑËÆæËÆ°„ÄÇ</p>
<div class="admonition tip">
<p class="admonition-title">IOVA ‰∏é Bus Address</p>
<p>ÂèØ‰ª•ËÆ§‰∏∫Ëøô‰∏§‰∏™ÂêçËØçÊòØÂêå‰∏Ä‰∏™ÊÑèÊÄùÔºåÂè™ÊòØ‰ΩøÁî®ÁöÑËØ≠Â¢É‰∏çÂêå„ÄÇÂº∫Ë∞É IOMMU Êó∂ÔºàÊØîÂ¶ÇÂú® RDMA Áõ∏ÂÖ≥ÊñáÊ°£‰∏≠Ôºâ‰∏ÄËà¨‰ΩøÁî® IOVAÔºõÂº∫Ë∞ÉÊÄªÁ∫øÔºàÊØîÂ¶Ç PCIe ÊñáÊ°£‰∏≠Ôºâ‰∏ÄËà¨‰ΩøÁî® Bus Address„ÄÇ</p>
</div>
</li>
<li>
<p>ÂÜÖÊ†∏ÈÄªËæëÂú∞ÂùÄ</p>
<p>Êüê‰∫õÁâ©ÁêÜÂú∞ÂùÄÊò†Â∞Ñ‰∏∫ÂÜÖÊ†∏ÈÄªËæëÂú∞ÂùÄÔºåÂÖ∑Êúâ<strong>Âõ∫ÂÆöÁöÑÂÅèÁßªÈáè</strong>„ÄÇ<code>kmalloc()</code> ËøîÂõûËøôÁ±ªÂú∞ÔºåÈÄöÂ∏∏Â≠òÂÇ®‰∏∫ <code>unsigned long</code> Êàñ <code>void *</code>„ÄÇ</p>
</li>
<li>
<p>ÂÜÖÊ†∏ËôöÊãüÂú∞ÂùÄ</p>
<p>‰∏éÂÜÖÊ†∏ÈÄªËæëÂú∞ÂùÄ‰∏çÂêåÔºå‰∏ç‰∏ÄÂÆöÊòØÁ∫øÊÄß„ÄÅ‰∏ÄÂØπ‰∏ÄÁöÑÊò†Â∞Ñ„ÄÇ<code>vmalloc()</code> Âíå <code>kmap()</code> ËøîÂõûËøôÁ±ªÂú∞ÂùÄ„ÄÇ</p>
</li>
</ul>
<p><code>&lt;asm/page.h&gt;</code> ‰∏Ä‰∫õÂÆèÔºö</p>
<ul>
<li><code>__pa()</code>ÔºöËøîÂõûÁâ©ÁêÜÂú∞ÂùÄ</li>
<li><code>__va()</code>ÔºöËøîÂõûËôöÊãüÂú∞ÂùÄÔºå‰ªÖÂØπ‰ΩéÂú∞ÂùÄÊúâÊïà</li>
<li><code>PAGE_SIZE</code></li>
<li><code>PAGE_SHIFT</code></li>
</ul>
<div class="admonition info">
<p class="admonition-title">È´ò/‰ΩéÂÜÖÂ≠ò</p>
<p>ËßÅ <a href="https://www.kernel.org/doc/html/v5.18/translations/zh_CN/vm/highmem.html">È´òÂÜÖÂ≠òÂ§ÑÁêÜ ‚Äî The Linux Kernel documentation</a>„ÄÇ</p>
<p>ÂΩìÁâ©ÁêÜÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÊé•ËøëÊàñË∂ÖËøáËôöÊãüÂÜÖÂ≠òÁöÑÊúÄÂ§ßÂ§ßÂ∞èÊó∂ÔºåÂÜÖÊ†∏‰∏çÂèØËÉΩÂú®‰ªª‰ΩïÊó∂ÂÄôÈÉΩ‰øùÊåÅÊâÄÊúâÂèØÁî®ÁöÑÁâ©ÁêÜÂÜÖÂ≠òÁöÑÊò†Â∞Ñ„ÄÇ‰º†ÁªüÂàÜÈÖçÊñπÂºè‰∏≠ÔºåËæÉ‰ΩéÁöÑ‰∏ÄÊÆµÂú∞ÂùÄÁ©∫Èó¥Ë¢´Ê∞∏‰πÖÊò†Â∞ÑÔºåËÄåËæÉÈ´òÁöÑ‰∏ÄÊÆµÂú∞ÂùÄÁ©∫Èó¥ÂàôË¢´Âä®ÊÄÅÊò†Â∞Ñ„ÄÇËøôÂ∞±ÊòØÈ´ò„ÄÅ‰ΩéÂÜÖÂ≠òÁöÑÁî±Êù•„ÄÇ</p>
<p>ÊØîÂ¶ÇÔºå32 ‰Ωç‰ΩìÁ≥ªÁªìÊûÑÁöÑËôöÊãüÂÜÖÂ≠òÁ©∫Èó¥‰∏∫ 4GBÔºåÂ¶ÇÊûúÁâ©ÁêÜÂÜÖÂ≠òÊúâ 8GBÔºåÈÇ£‰πàÂÜÖÊ†∏Â∞±Êó†Ê≥ïÂ∞ÜÊâÄÊúâÁâ©ÁêÜÂÜÖÂ≠òÊò†Â∞ÑÂà∞ËôöÊãüÂÜÖÂ≠ò‰∏≠„ÄÇ</p>
<p>Âú® 64 ‰Ωç‰ΩìÁ≥ªÁªìÊûÑ‰∏äÔºåÈ´òÂÜÖÂ≠ò‰∏çÂÜçÊòØÈóÆÈ¢òÔºåÂèØÁî®ÁöÑÂú∞ÂùÄÁ©∫Èó¥ËææÂà∞‰∫Ü 16EB„ÄÇ</p>
</div>
<p>‰∏ãÂàóÂÜÖÂÆπÂú® Linux Kernel Development ‰∏≠Â∑≤Â≠¶‰π†ËøáÔºåËøôÈáå‰∏çÂÜçËµòËø∞Ôºö</p>
<ul>
<li>Áâ©ÁêÜÂÜÖÂ≠òÈ°µÈù¢Êò†Â∞ÑÂíå <code>struct page</code></li>
<li>È°µË°®</li>
<li>VMA Âíå <code>struct vm_area_struct</code></li>
<li>ËøõÁ®ãÂÜÖÂ≠òÊò†Â∞Ñ <code>struct mm_struct</code>Ôºå<code>current-&gt;mm</code></li>
</ul>
<h3 id="mmap"><code>mmap()</code> ËÆæÂ§áÊìç‰Ωú<a class="headerlink" href="#mmap" title="Permanent link">&para;</a></h3>
<ul>
<li><code>/proc/*/maps</code></li>
<li><code>/proc/iomem</code></li>
</ul>
<p>‰ΩøÁî® <code>mmap()</code> ÁöÑÂÆû‰æãÔºö</p>
<ul>
<li>X Server Êò†Â∞ÑÊòæÂç°ÁöÑÊòæÂ≠òÔºåÊØî <code>lseek()</code>/<code>write()</code> Êõ¥Âä†È´òÊïà</li>
<li>PCI ËÆæÂ§áÂ∞ÜÊéßÂà∂ÂØÑÂ≠òÂô®Êò†Â∞ÑÂà∞ÂÜÖÂ≠òÂú∞ÂùÄÔºåÊØî <code>ioctl()</code> Êõ¥Âä†È´òÊïà</li>
</ul>
<p>Á≥ªÁªüË∞ÉÁî® <code>mmap()</code> (2)</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="n">mmap</span><span class="w"> </span><span class="p">(</span><span class="n">caddr_t</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">prot</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flags</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">off_t</span><span class="w"> </span><span class="n">offset</span><span class="p">)</span>
</span></code></pre></div>
<p>‰ºöË∞ÉÁî®‰Ωú‰∏∫ <code>file_operations</code> ÁªìÊûÑÁöÑ‰∏ÄÈÉ®ÂàÜÁöÑ <code>mmap()</code></p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">mmap</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">vm_area_struct</span><span class="w"> </span><span class="o">*</span><span class="n">vma</span><span class="p">);</span>
</span></code></pre></div>
<p>‰Ωú‰∏∫È©±Âä®Á®ãÂ∫èÁöÑÂÆûÁé∞ËÄÖÔºåÊàë‰ª¨Êî∂Âà∞ <code>vma</code>Ôºå‰∏∫Áõ∏Â∫îÂú∞ÂùÄËåÉÂõ¥ÊûÑÂª∫È°µË°®ÔºåÂπ∂ËßÜÊÉÖÂÜµÊèê‰æõ <code>vma-&gt;vm_ops</code> Âç≥ÂèØ„ÄÇ</p>
<p>ÊûÑÂª∫È°µË°®Êúâ‰∏§ÁßçÊñπÊ≥ïÔºö</p>
<ul>
<li>
<p><code>remap_pfn_range()</code>„ÄÅ<code>io_remap_page_range()</code>ÔºöÂÆÉ‰ª¨Êé•Êî∂ <code>vma</code>„ÄÅ<code>virt_addr</code> Âíå <code>pfn</code> Á≠âÂèÇÊï∞ÔºåÂª∫Á´ãÂØπÂ∫îÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇÂâçËÄÖÁî®‰∫éÂ§ÑÁêÜÁúüÂÆûÂÜÖÂ≠òÁöÑÊò†Â∞ÑÔºåÂêéËÄÖÁî®‰∫éÂ§ÑÁêÜÁâ©ÁêÜÂú∞ÂùÄ‰∏∫ I/O ÂÜÖÂ≠òÁöÑÊò†Â∞Ñ„ÄÇ</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">simple_remap_mmap</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">vm_area_struct</span><span class="w"> </span><span class="o">*</span><span class="n">vma</span><span class="p">)</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="p">{</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">remap_pfn_range</span><span class="p">(</span><span class="n">vma</span><span class="p">,</span><span class="w"> </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_start</span><span class="p">,</span><span class="w"> </span><span class="n">vm</span><span class="o">-&gt;</span><span class="n">vm_pgoff</span><span class="p">,</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">    </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_start</span><span class="p">,</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">    </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_page_prot</span><span class="p">))</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="n">EAGAIN</span><span class="p">;</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">    </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">simple_remap_vm_ops</span><span class="p">;</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">    </span><span class="n">simple_vma_open</span><span class="p">(</span><span class="n">vma</span><span class="p">);</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p><code>nopage()</code> ÈÄêÈ°µÊò†Â∞ÑÔºåÊõ¥Âä†ÁÅµÊ¥ªÔºåÂ∏∏Áî®‰∫éÁ≥ªÁªüË∞ÉÁî® <code>mremap()</code>„ÄÇÂΩìÁî®Êà∑ËøõÁ®ãËÆøÈóÆ VMA ‰∏≠‰∏çÂ≠òÂú®‰∫éÂÜÖÂ≠ò‰∏≠ÁöÑÈ°µÈù¢Êó∂ÔºåÂ∞ÜË∞ÉÁî® <code>nopage()</code>„ÄÇ</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">simple_nopage_mmap</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">file</span><span class="w"> </span><span class="o">*</span><span class="n">filp</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">vm_area_struct</span><span class="w"> </span><span class="o">*</span><span class="n">vma</span><span class="p">)</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="p">{</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_pgoff</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">PAGE_SHIFT</span><span class="p">;</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">offset</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">__pa</span><span class="p">(</span><span class="n">high_memory</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">filp</span><span class="o">-&gt;</span><span class="n">f_flags</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">O_SYNC</span><span class="p">))</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">    </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_flags</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">VM_IO</span><span class="p">;</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">    </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_flags</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">VM_RESERVED</span><span class="p">;</span>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">    </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">simple_nopage_vm_ops</span><span class="p">;</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">    </span><span class="n">simple_vma_open</span><span class="p">(</span><span class="n">vma</span><span class="p">);</span>
</span><span id="__span-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-51-10"><a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>Áõ∏Â∫î <code>vm_operations_struct</code> ‰∏≠ÁöÑ <code>nopage()</code> Áõ¥Êé•Êìç‰ΩúÂÜÖÂ≠òÈ°µÈù¢ËÆ°Êï∞Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">page</span><span class="w"> </span><span class="o">*</span><span class="n">simple_vma_nopage</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">vm_area_struct</span><span class="w"> </span><span class="o">*</span><span class="n">vma</span><span class="p">,</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">)</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="p">{</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">page</span><span class="w"> </span><span class="o">*</span><span class="n">pageptr</span><span class="p">;</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_pgoff</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">PAGE_SHIFT</span><span class="p">;</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">physaddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">vma</span><span class="o">-&gt;</span><span class="n">vm_start</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset</span><span class="p">;</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">pageframe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">physaddr</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">PAGE_SHIFT</span><span class="p">;</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a>
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">pfn_valid</span><span class="p">(</span><span class="n">pageframe</span><span class="p">))</span>
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">NOPAGE_SIGBUS</span><span class="p">;</span>
</span><span id="__span-52-11"><a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a><span class="w">    </span><span class="n">pageptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pfn_to_page</span><span class="p">(</span><span class="n">pageframe</span><span class="p">);</span>
</span><span id="__span-52-12"><a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="w">    </span><span class="n">get_page</span><span class="p">(</span><span class="n">pageptr</span><span class="p">);</span>
</span><span id="__span-52-13"><a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
</span><span id="__span-52-14"><a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a><span class="w">        </span><span class="o">*</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VM_FAULT_MINOR</span><span class="p">;</span>
</span><span id="__span-52-15"><a id="__codelineno-52-15" name="__codelineno-52-15" href="#__codelineno-52-15"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">pageptr</span><span class="p">;</span>
</span><span id="__span-52-16"><a id="__codelineno-52-16" name="__codelineno-52-16" href="#__codelineno-52-16"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ul>
<p>‰∏ÄËà¨Êù•ËØ¥ÔºåËÆæÂ§áÂÜÖÂ≠ò‰∏çÂ∫îËØ•Ë¢´ cacheÔºåËßÅ <code>pgprot_noncached</code>„ÄÇ</p>
<div class="admonition todo">
<p class="admonition-title">ÈáçÊò†Â∞ÑÁ´†ËäÇ</p>
</div>
<h3 id="io_3">ÊâßË°åÁõ¥Êé• I/O<a class="headerlink" href="#io_3" title="Permanent link">&para;</a></h3>
<p>Â§ßÂ§öÊï∞ I/O Êìç‰ΩúÈÉΩË¢´ÂÜÖÊ†∏ÁºìÂ≠ò„ÄÇ</p>
<p>ÂÆûÁé∞Áõ¥Êé• I/O ÁöÑÂÖ≥ÈîÆÂú®‰∫é <code>get_user_pages()</code>Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">get_user_pages</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">task_struct</span><span class="w"> </span><span class="o">*</span><span class="n">tsk</span><span class="p">,</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">mm_struct</span><span class="w"> </span><span class="o">*</span><span class="n">mm</span><span class="p">,</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="c1">// Áî®Êà∑Á©∫Èó¥ÁºìÂÜ≤Âå∫Ëµ∑ÂßãÂú∞ÂùÄÂíåÈïøÂ∫¶ÔºàÊåâÈ°µÂØπÈΩêÔºâ</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">start</span><span class="p">,</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="c1">// ÊùÉÈôê</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">write</span><span class="p">,</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">force</span><span class="p">,</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">    </span><span class="c1">// ËøîÂõû pin Âú®ÂÜÖÂ≠ò‰∏≠ÁöÑÈ°µÈù¢</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">page</span><span class="w"> </span><span class="o">**</span><span class="n">pages</span><span class="p">,</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">vm_area_struct</span><span class="w"> </span><span class="o">**</span><span class="n">vmas</span><span class="p">);</span>
</span></code></pre></div>
<p>2.6 ÂºïÂÖ•‰∫ÜÂºÇÊ≠• I/OÔºåÁî®Êà∑Á©∫Èó¥ÂèØ‰ª•ÂèëËµ∑ I/O ËÄåÊó†ÈúÄÁ≠âÂæÖ„ÄÇÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•ÈÄâÊã©ÊòØÂê¶ÊîØÊåÅÂºÇÊ≠• I/O„ÄÇÂÖ∂‰∏≠ÔºåÂùóËÆæÂ§áÂíåÁΩëÁªúËÆæÂ§áÁöÑ I/O ÊÄªÊòØÂºÇÊ≠•ÁöÑÔºåÁî±ÂÜÖÊ†∏‰∏≠Êõ¥È´òÂ±ÇÊ¨°ÁöÑ‰ª£Á†ÅÊèê‰æõÊîØÊåÅÔºàËÆæÁΩÆÁºìÂÜ≤Âå∫Á≠âÔºâÔºåÈ©±Âä®Á®ãÂ∫è‰∏çÈúÄË¶ÅÁÆ°„ÄÇËßÅ <code>linux/aio.h</code>„ÄÇ</p>
<h3 id="dma_1">DMA<a class="headerlink" href="#dma_1" title="Permanent link">&para;</a></h3>
<p>Â§ñÂõ¥ËÆæÂ§áÂèØ‰ª•ÈÄöËøá DMA ÂêëÂÜÖÂ≠ò‰º†ËæìÊï∞ÊçÆÔºåÂ§ÑÁêÜÂô®Êó†ÈúÄÂèÇ‰∏é„ÄÇ</p>
<p>‰∏§ÁßçËæìÂÖ•ÊñπÂºèÔºö</p>
<ul>
<li>
<p>Á®ãÂ∫èËØ∑Ê±ÇÔºö</p>
<ol>
<li><code>read()</code> Ë∞ÉÁî®ÔºåÈ©±Âä®Á®ãÂ∫èÂàÜÈÖç DMA ÁºìÂÜ≤Ôºå‰ª§Á°¨‰ª∂ÂêëÁºìÂÜ≤Âå∫ÂÜôÂÖ•ÔºåËøõÁ®ã‰ºëÁú†„ÄÇ</li>
<li>Á°¨‰ª∂ÂêëÁºìÂÜ≤Âå∫ÂÜôÂÖ•ÔºåÂÆåÊàêÊó∂ÂèëËµ∑‰∏≠Êñ≠„ÄÇ</li>
<li>‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èËé∑ÂæóÊï∞ÊçÆÔºåÂî§ÈÜíËøõÁ®ã„ÄÇ</li>
</ol>
</li>
<li>
<p>Á°¨‰ª∂ÂºÇÊ≠•Êé®ÈÄÅÔºàÂºÇÊ≠•‰ΩøÁî® DMAÔºâÔºö</p>
<ol>
<li>Á°¨‰ª∂ÂèëËµ∑‰∏≠Êñ≠ÔºåÂëäÁü•Êñ∞Êï∞ÊçÆÂà∞Ëææ„ÄÇ</li>
<li>‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èÂàÜÈÖçÁºìÂÜ≤Âå∫ÔºåÂëäÁü•Á°¨‰ª∂‰º†ËæìÊï∞ÊçÆ„ÄÇ</li>
<li>Á°¨‰ª∂ÂêëÁºìÂÜ≤Âå∫ÂÜôÂÖ•ÔºåÂÆåÊàêÊó∂ÂèëËµ∑‰∏≠Êñ≠„ÄÇ</li>
<li>‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èËé∑ÂæóÊï∞ÊçÆÔºåÂî§ÈÜíËøõÁ®ãÔºåÁÆ°ÁêÜÁ∞øËÆ∞„ÄÇ</li>
</ol>
</li>
</ul>
<p>‰ª•ÁΩëÂç°‰∏∫‰æãÔºöÁΩëÂç°‰ΩøÁî® DMA ring bufferÔºåÊî∂Âà∞ÁöÑÂåÖÊîæÂú®‰∏ã‰∏Ä‰∏™ÂèØÁî®ÁöÑ buffer ‰∏≠ÔºåÂπ∂ÂèëËµ∑‰∏≠Êñ≠ÔºåÁî±È©±Âä®Á®ãÂ∫èÂ∞ÜÂåÖ‰º†ÈÄíÁªôÂÜÖÊ†∏ÂÖ∂‰ªñÈÉ®ÂàÜÔºåÂπ∂ÊîæÁΩÆÊñ∞ÁöÑ DMA buffer„ÄÇ</p>
<h4 id="dma_2">ÂàÜÈÖç DMA ÁºìÂÜ≤Âå∫<a class="headerlink" href="#dma_2" title="Permanent link">&para;</a></h4>
<p>ÈúÄË¶ÅËÄÉËôëËÆæÂ§áËÉΩÂ§ÑÁêÜÁöÑÂú∞ÂùÄËåÉÂõ¥Ôºå‰ΩøÁî® <code>GFP_DMA</code> ‰ªé <code>kmalloc()</code> Êàñ <code>get_free_pages()</code> Ë∞ÉÁî®‰∏≠Ëé∑Âæó DMA Âå∫ÂüüÁöÑÈ°µÈù¢„ÄÇ</p>
<p>Ë¶ÅÊ±Ç‰∏∫ËøûÁª≠Áâ©ÁêÜÈ°µÔºåÂõ†‰∏∫ËÆæÂ§áÂú®ÊÄªÁ∫ø‰∏ä‰ΩøÁî®Áâ©ÁêÜÂú∞ÂùÄ‰º†Ëæì„ÄÇÁÑ∂ËÄåÈöèÁùÄÁ≥ªÁªüËøêË°åÔºåÂÜÖÂ≠òÈÄêÊ∏êÁ¢éÁâáÂåñ„ÄÇÊúâÂá†ÁßçÊñπÊ≥ïÔºö</p>
<ul>
<li>ÂêØÂä®Êó∂‰ΩøÁî® <code>mem=</code> ÂÜÖÊ†∏ÂèÇÊï∞ÈôêÂà∂ÂÜÖÊ†∏‰ΩøÁî®ÁöÑÂÜÖÂ≠òËåÉÂõ¥ÔºåÂâ©‰ΩôÁöÑÈ´òÂÜÖÂ≠òÂç≥ÂèØË¢´È©±Âä®Á®ãÂ∫è‰Ωú‰∏∫ÁºìÂÜ≤Âå∫„ÄÇ</li>
<li>‰ΩøÁî® <code>GFP_NOFAIL</code> ÈÄâÈ°πÂàÜÈÖçÂÜÖÂ≠òÔºå‰ΩÜ‰ºöÁªôÁ≥ªÁªüÂ∏¶Êù•ÂéãÂäõÔºåÂèØËÉΩÂØºËá¥Á≥ªÁªüÈîÅÊ≠ª„ÄÇ</li>
<li>Â¶ÇÊûúËÆæÂ§áÊîØÊåÅ<strong>Êï£Â∞Ñ/ËÅöÈõÜÔºàscatter/gatherÔºâI/O</strong>ÔºåÂàôÂèØ‰ª•Â∞ÜÁºìÂÜ≤Âå∫ÂàÜ‰∏∫Â§ö‰∏™ÈÉ®ÂàÜ„ÄÇ</li>
</ul>
<h4 id="dma_3">ÈÄöÁî® DMA Â±Ç<a class="headerlink" href="#dma_3" title="Permanent link">&para;</a></h4>
<p>‰∏•Ê†ºÊù•ËØ¥ÔºåËÆæÂ§á‰ΩøÁî®ÁöÑÊòØÊÄªÁ∫øÂú∞ÂùÄËÄåÈùûÁâ©ÁêÜÂú∞ÂùÄÔºåÂú®Êüê‰∫õÂπ≥Âè∞‰∏äËøô‰∏§‰∏™Âú∞ÂùÄÈó¥ÊúâÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇË¶ÅÁºñÂÜô‰∏Ä‰∏™ÈÄöÁî®ÁöÑÈ©±Âä®Á®ãÂ∫èÊòØ‰∏Ä‰ª∂Â§çÊùÇÁöÑ‰∫ãÊÉÖÔºåÂõ†Ê≠§ Linux Êèê‰æõ‰∫ÜÈÄöÁî® DMA Â±ÇÔºå‰∏éÊÄªÁ∫øÂíåÊû∂ÊûÑÊó†ÂÖ≥„ÄÇ</p>
<div class="admonition todo">
<p class="admonition-title">Êú™ÂÆåÊàê</p>
</div>
<h2 id="_39">Á¨¨ÂçÅ‰∏ÉÁ´†ÔºöÁΩëÁªúÈ©±Âä®<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h2>
<p>‰∏é‰∏ä‰∏ÄËäÇÁöÑÂùóËÆæÂ§áÁõ∏ÊØîÔºåÁΩëÁªúËÆæÂ§áÊúâÂá†‰∏™‰∏çÂêåÔºö</p>
<ul>
<li>
<p>Âú® <code>/dev</code> ‰∏ãÊ≤°ÊúâÂØπÂ∫îÁöÑÊñá‰ª∂„ÄÇÂØπ‰∫éÁΩëÁªúËÆæÂ§áÊù•ËØ¥ÔºåÊñá‰ª∂Êìç‰ΩúÊ≤°ÊúâÊÑè‰πâ„ÄÇ</p>
<p>Â∞ΩÁÆ° Socket ‰ªçÁÑ∂‰ΩøÁî® <code>read/write</code> Êìç‰ΩúÔºå‰ΩÜ Socket ÊòØËΩØ‰ª∂Â±ÇÈù¢ÁöÑÂØπË±°„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÁΩëÁªúËÆæÂ§áÂ≠òÂú®Ëá™Â∑±ÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÊèê‰æõÂè¶‰∏ÄÂ•óÊìç‰Ωú„ÄÇ</p>
</li>
<li>
<p>ÂùóËÆæÂ§á<strong>Ë¢´Âä®Âú∞</strong>Êé•ÂèóÂÜÖÊ†∏ÁöÑËØ∑Ê±ÇÔºåËÄåÁΩëÁªúËÆæÂ§á<strong>‰∏ªÂä®Âú∞</strong>ÂêëÂÜÖÊ†∏ÂèëÈÄÅÊï∞ÊçÆ„ÄÇ</p>
</li>
</ul>
<p>Linux ÁΩëÁªúÂ≠êÁ≥ªÁªüË¢´ËÆæËÆ°‰∏∫‰∏éÂçèËÆÆÊó†ÂÖ≥„ÄÇ</p>
<h3 id="snull"><code>snull</code> ÁöÑËÆæËÆ°<a class="headerlink" href="#snull" title="Permanent link">&para;</a></h3>
<p>Áï•</p>
<h3 id="_40">ËøûÊé•Âà∞ÂÜÖÊ†∏<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h3>
<p>‰ΩúËÄÖÂª∫ËÆÆÈòÖËØªÂÜÖÊ†∏Ê∫êÁ†ÅÁöÑÈ°∫Â∫èÔºö</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>loopback.c
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>plip.c
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>e100.c
</span></code></pre></div>
<h4 id="_41">ËÆæÂ§áÊ≥®ÂÜå<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h4>
<p>‰∏éÂùóËÆæÂ§áÂíåÂ≠óÁ¨¶ËÆæÂ§á‰∏çÂêåÔºåÁΩëÁªúËÆæÂ§á<strong>‰∏çÈúÄË¶ÅËÆæÂ§áÂè∑ÔºåËÄåÊòØÂêëÂÖ®Â±ÄÁΩëÁªúËÆæÂ§áÂàóË°®‰∏≠ÊèíÂÖ•Êñ∞ÁöÑÊé•Âè£</strong>„ÄÇÊØè‰∏™Êé•Âè£Áî® <code>struct net_device</code> ÁªìÊûÑË°®Á§∫Ôºå‰∏éÂÖ∂‰ªñÂÜÖÊ†∏ÂØπË±°‰∏ÄÊ†∑‰ΩøÁî®ÂºïÁî®ËÆ°Êï∞Êù•ÁÆ°ÁêÜ„ÄÇËØ•ÁªìÊûÑÈÄöËøá <code>netdev_alloc()</code> ÂàÜÈÖç„ÄÇ</p>
<div class="language-c highlight"><span class="filename">linux/netdevice.h</span><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">net_device</span><span class="w"> </span><span class="o">*</span><span class="n">alloc_netdev</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sizeof_priv</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">setup</span><span class="p">)(</span><span class="k">struct</span><span class="w"> </span><span class="nc">net_device</span><span class="w"> </span><span class="o">*</span><span class="p">));</span>
</span></code></pre></div>
<p>ÂÖ∂‰∏≠ <code>sizeof_priv</code> ÊòØÁßÅÊúâÊï∞ÊçÆÁöÑÂ§ßÂ∞è„ÄÇ</p>
<p>ÂÆåÊàêËÆæÂ§áÂàõÂª∫ÂíåÂàùÂßãÂåñÂêéÔºåÂ∞ÜÂÖ∂‰º†ÈÄíÁªô <code>register_netdev()</code> Âç≥ÂèØ„ÄÇ</p>
<h4 id="_42">ËÆæÂ§áÂàùÂßãÂåñ<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h4>
<p><code>ether_setup()</code> ÂàùÂßãÂåñ‰ª•Â§™ÁΩëËÆæÂ§áÁöÑÈªòËÆ§ÂÄºÔºå‰∏ÄËà¨ÂÖàÁî®ÂÆÉÂàùÂßãÂåñÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="n">ether_setup</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="n">dev</span><span class="o">-&gt;</span><span class="n">open</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">snull_open</span><span class="p">;</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="n">dev</span><span class="o">-&gt;</span><span class="n">flags</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="n">IFF_NOARP</span><span class="p">;</span>
</span></code></pre></div>
<p>ËÆøÈóÆÁßÅÊúâÊï∞ÊçÆ‰ΩøÁî® <code>netdev_priv()</code>Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">snull_priv</span><span class="w"> </span><span class="o">*</span><span class="n">priv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">netdev_priv</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span></code></pre></div>
<h4 id="_43">Ê®°ÂùóÂç∏ËΩΩ<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h4>
<p>ÂèñÊ∂àÊ≥®ÂÜåÔºåÈáäÊîæËÆæÂ§áÁªìÊûÑÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="n">unregister_netdev</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="n">snull_teardown_pool</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="n">free_netdev</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span></code></pre></div>
<p><code>free_netdev()</code> ÂêéÂèØËÉΩ‰ªçÁÑ∂Â≠òÂú®ÔºàÂºïÁî®ËÆ°Êï∞ÔºâÔºå‰ΩÜÈ©±Âä®‰∏çÂÖ≥ÂøÉ„ÄÇ</p>
<h3 id="net_device"><code>net_device</code> ÁªìÊûÑËØ¶Ëß£<a class="headerlink" href="#net_device" title="Permanent link">&para;</a></h3>
<p>Áï•</p>
<h4 id="_44">ËÆæÂ§áÊñπÊ≥ï<a class="headerlink" href="#_44" title="Permanent link">&para;</a></h4>
<p>Âü∫Á°ÄÊñπÊ≥ïÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="n">open</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="n">stop</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="n">hard_start_xmit</span><span class="p">(</span><span class="n">skb</span><span class="p">,</span><span class="w"> </span><span class="n">dev</span><span class="p">);</span><span class="w"> </span><span class="c1">// ÂèëËµ∑ÂåÖ‰º†Ëæì</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="n">hard_header</span><span class="p">(</span><span class="n">skb</span><span class="p">,</span><span class="w"> </span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">saddr</span><span class="p">,</span><span class="w"> </span><span class="n">len</span><span class="p">);</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="n">rebuild_header</span><span class="p">(</span><span class="n">skb</span><span class="p">);</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="n">tx_timeout</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="n">get_stats</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="n">set_config</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">map</span><span class="p">);</span>
</span></code></pre></div>
<ul>
<li><code>skb</code> ÊòØ Socket buffer</li>
</ul>
<p>ÂèØÈÄâÊñπÊ≥ïÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="n">weight</span><span class="p">;</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="n">poll</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">quota</span><span class="p">);</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="n">poll_controller</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="n">do_ioctl</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">ifr</span><span class="p">,</span><span class="w"> </span><span class="n">cmd</span><span class="p">);</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="n">set_multicast_list</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="n">set_mac_address</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">addr</span><span class="p">);</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="n">change_mtu</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">new_mtu</span><span class="p">);</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="n">header_cache</span><span class="p">(</span><span class="n">neigh</span><span class="p">,</span><span class="w"> </span><span class="n">hh</span><span class="p">);</span>
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="n">header_cache_update</span><span class="p">(</span><span class="n">hh</span><span class="p">,</span><span class="w"> </span><span class="n">dev</span><span class="p">,</span><span class="w"> </span><span class="n">haddr</span><span class="p">);</span>
</span><span id="__span-60-10"><a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="n">hard_header_parse</span><span class="p">(</span><span class="n">skb</span><span class="p">,</span><span class="w"> </span><span class="n">haddr</span><span class="p">);</span>
</span></code></pre></div>
<h4 id="_45">ËæÖÂä©Â≠óÊÆµ<a class="headerlink" href="#_45" title="Permanent link">&para;</a></h4>
<p>Áï•</p>
<h3 id="_46">ÊâìÂºÄ‰∏éÂÖ≥Èó≠<a class="headerlink" href="#_46" title="Permanent link">&para;</a></h3>
<p>‰ΩøÁî® <code>ifconfig</code> ‰∏∫ÁΩëÁªúÊé•Âè£ËÆæÁΩÆÂú∞ÂùÄÊó∂ÔºåÊúâ‰∏§È°π‰ªªÂä°Ôºö</p>
<ul>
<li>‰ΩøÁî® <code>ioctl(SIOCSIFADDR)</code> ËÆæÁΩÆÂú∞ÂùÄÔºöÊ≤°ÊúâÈ©±Âä®Á®ãÂ∫èÁöÑÂèÇ‰∏éÔºåÁî±ÂÜÖÊ†∏ÊâßË°å„ÄÇ</li>
<li>‰ΩøÁî® <code>ioctl(SIOCSIFFLAGS)</code> ËÆæÁΩÆÊ†áÂøó <code>IFF_UP</code>ÔºöÈ©±Âä®Á®ãÂ∫èÂèÇ‰∏éÔºåË∞ÉÁî® <code>open()</code>„ÄÇ<ul>
<li>ÂíåÂÖ∂‰ªñËÆæÂ§á‰∏ÄÊ†∑ÔºåËØ∑Ê±ÇÂêÑÁ±ªËµÑÊ∫êÔºà<code>requiest_region()</code> Á≠âÔºâ„ÄÇ</li>
<li>‰ªéËÆæÂ§áÊã∑Ë¥ùÁ°¨‰ª∂Âú∞ÂùÄÔºàMACÔºâÂà∞ <code>dev-&gt;dev_addr</code>„ÄÇ</li>
<li>ÂêØÂä®Êé•Âè£ÁöÑ‰º†ËæìÈòüÂàóÔºåÈÄöËøá <code>netif_start_queue()</code> ÂÆûÁé∞„ÄÇ</li>
</ul>
</li>
</ul>
<p>ÂÖ≥Èó≠Á´ØÂè£Êó∂ÔºåË∞ÉÁî® <code>stop()</code>„ÄÇ</p>
<h3 id="_47">ÂåÖ‰º†Ëæì<a class="headerlink" href="#_47" title="Permanent link">&para;</a></h3>
<div class="admonition todo">
<p class="admonition-title">Êú™ÂÆåÊàê</p>
</div>
<h3 id="_48">Êõ¥ÊîπÈìæË∑ØÁä∂ÊÄÅ<a class="headerlink" href="#_48" title="Permanent link">&para;</a></h3>
<p>Áâ©ÁêÜ‰∏äÁöÑËøûÊé•Êèê‰æõ carrier Áä∂ÊÄÅÔºåË°®ÊòéÁ°¨‰ª∂Â≠òÂú®„ÄÇ</p>
<p>È©±Âä®Á®ãÂ∫èÊ£ÄÊµãÂà∞ carrier Áä∂ÊÄÅÂèòÂåñÊó∂ÔºåÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÊé•Âè£ÊîπÂèòÈìæË∑ØÁä∂ÊÄÅÔºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">netif_carrier_on</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">netif_carrier_off</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">netif_carrier_ok</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span><span class="w"> </span><span class="c1">// test</span>
</span></code></pre></div>
<h4 id="rtnl">Ë°•ÂÖÖÂÜÖÂÆπÔºöRTNL<a class="headerlink" href="#rtnl" title="Permanent link">&para;</a></h4>
<div class="admonition quote">
<p class="admonition-title">Quote</p>
<ul>
<li><a href="https://netdevconf.info/2.2/papers/westphal-rtnlmutex-talk.pdf">RTNL mutex, the network stack big kernel lock - RedHat</a></li>
</ul>
</div>
<p>rtnetlink ÊòØ netlink Â≠êÁ≥ªÁªü‰πã‰∏ÄÔºåËá™ Linux 2.2 Âä†ÂÖ•ÂÜÖÊ†∏ÔºåÁî®‰∫éÂ§ÑÁêÜÁΩëÁªúÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆ„ÄÇ</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="July 20, 2025 08:05:41 UTC">July 20, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../ebpf/" class="md-footer__link md-footer__link--prev" aria-label="Previous: eBPF">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                eBPF
              </div>
            </div>
          </a>
        
        
          
          <a href="../%F0%9F%93%96%20Linux%20Kernel%20Development%20%283rd%29/" class="md-footer__link md-footer__link--next" aria-label="Next: üìñ Linux Kernel Development (3rd)">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                üìñ Linux Kernel Development (3rd)
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a href="https://beian.miit.gov.cn/" target="_blank">ÊµôICPÂ§á2022036274Âè∑-1</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://bowling233.com" target="_blank" rel="noopener" title="bowling233.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.07 4.93C17.22 3 14.66 1.96 12 2c-2.66-.04-5.21 1-7.06 2.93C3 6.78 1.96 9.34 2 12c-.04 2.66 1 5.21 2.93 7.06C6.78 21 9.34 22.04 12 22c2.66.04 5.21-1 7.06-2.93C21 17.22 22.04 14.66 22 12c.04-2.66-1-5.22-2.93-7.07M17 12v6h-3.5v-5h-3v5H7v-6H5l7-7 7.5 7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.tracking", "navigation.path", "navigation.top", "toc.follow", "content.action.edit", "search.suggest", "search.highlight", "search.share"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.alicdn.com/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/tablesort/dist/tablesort.min.js"></script>
      
        <script src="../../../../javascripts/tablesort.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>